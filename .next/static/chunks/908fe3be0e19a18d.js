(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,12089,e=>{"use strict";var s=e.i(34355),a=e.i(84025),t=e.i(13993),r=e.i(48066),i=e.i(3339),l=e.i(53746),n=e.i(38589),c=e.i(61833),d=e.i(49918),o=e.i(69336),x=e.i(96021),h=e.i(83508),m=e.i(36421),p=e.i(70426),u=e.i(43578),j=e.i(70852),g=e.i(28226),b=e.i(64651),v=e.i(94938),f=e.i(51950),N=e.i(42242),y=e.i(14156),w=e.i(52400),C=e.i(49437),k=e.i(48885),S=e.i(48574);let T=(0,e.i(11317).default)("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);var _=e.i(8591),z=e.i(86834),E=e.i(88924),P=e.i(46600),L=e.i(6898),B=e.i(72986),A=e.i(34521),U=e.i(87370),O=e.i(77408);let I=[{value:"common",label:"Common",color:"text-gray-400",bg:"bg-gray-500/20",icon:S.Star,chance:"High"},{value:"uncommon",label:"Uncommon",color:"text-green-400",bg:"bg-green-500/20",icon:S.Star,chance:"Medium"},{value:"rare",label:"Rare",color:"text-blue-400",bg:"bg-blue-500/20",icon:T,chance:"Low"},{value:"epic",label:"Epic",color:"text-purple-400",bg:"bg-purple-500/20",icon:T,chance:"Very Low"},{value:"legendary",label:"Legendary",color:"text-yellow-400",bg:"bg-yellow-500/20",icon:y.Crown,chance:"Ultra Rare"}],D=["#ef4444","#f97316","#f59e0b","#eab308","#84cc16","#22c55e","#10b981","#14b8a6","#06b6d4","#0ea5e9","#3b82f6","#6366f1","#8b5cf6","#a855f7","#d946ef","#ec4899","#f43f5e"];function R(){let{user:e,isLoading:y}=(0,r.useAuth)(),T=(0,t.useRouter)(),[R,$]=(0,a.useState)(!0),[F,M]=(0,a.useState)(!1),[V,J]=(0,a.useState)(!1),[W,X]=(0,a.useState)(!1),[H,q]=(0,a.useState)(!1),[K,G]=(0,a.useState)(!1),[Y,Z]=(0,a.useState)(!1),[Q,ee]=(0,a.useState)(null),[es,ea]=(0,a.useState)("prizes"),[et,er]=(0,a.useState)("list"),[ei,el]=(0,a.useState)("list"),[en,ec]=(0,a.useState)("overview"),[ed,eo]=(0,a.useState)("pending"),[ex,eh]=(0,a.useState)("prizes"),[em,ep]=(0,a.useState)([]),[eu,ej]=(0,a.useState)([]),[eg,eb]=(0,a.useState)(null),[ev,ef]=(0,a.useState)(!1),[eN,ey]=(0,a.useState)(null),[ew,eC]=(0,a.useState)({name:"",coins:10,color:"#3b82f6",probability:10,is_active:!0,rarity:"common",description:"",image_url:""}),[ek,eS]=(0,a.useState)(""),[eT,e_]=(0,a.useState)([]),[ez,eE]=(0,a.useState)(!1),[eP,eL]=(0,a.useState)(null),[eB,eA]=(0,a.useState)(1),[eU,eO]=(0,a.useState)(""),[eI,eD]=(0,a.useState)(null),[eR,e$]=(0,a.useState)(!1),[eF,eM]=(0,a.useState)([]),[eV,eJ]=(0,a.useState)(!1),[eW,eX]=(0,a.useState)([]),[eH,eq]=(0,a.useState)(!1),[eK,eG]=(0,a.useState)(1),[eY,eZ]=(0,a.useState)(0),[eQ,e0]=(0,a.useState)(null),[e4,e2]=(0,a.useState)(!1),[e1,e5]=(0,a.useState)([]),[e6,e8]=(0,a.useState)(!1),[e3,e9]=(0,a.useState)("pending"),[e7,se]=(0,a.useState)(!1),[ss,sa]=(0,a.useState)(!1),[st,sr]=(0,a.useState)(!1),[si,sl]=(0,a.useState)(!1),[sn,sc]=(0,a.useState)(null),[sd,so]=(0,a.useState)({username:"",avatar:"",content:"",rating:5,server_name:"",upvotes_received:0,is_featured:!0,is_verified:!1,badge:"",image_url:""}),[sx,sh]=(0,a.useState)(!1),sm=(0,a.useCallback)(async()=>{eJ(!0);try{let e=await fetch("/api/admin/spin-wheel/prizes");if(e.ok){let s=await e.json();ep(s.prizes||s||[])}else u.toast.error("Failed to fetch prizes")}catch(e){u.toast.error("Error fetching prizes")}finally{eJ(!1)}},[]),sp=(0,a.useCallback)(async()=>{try{let e=await fetch("/api/admin/spin-wheel/stats");if(e.ok){let s=await e.json();eb(s)}else console.error("Failed to fetch spin wheel stats:",e.statusText)}catch(e){console.error("Error fetching spin stats:",e)}},[]),su=(0,a.useCallback)(async()=>{sh(!0);try{let e=await fetch("/api/testimonials");if(e.ok){let s=await e.json();eM(s||[])}else u.toast.error("Failed to fetch testimonials")}catch(e){u.toast.error("Error fetching testimonials")}finally{sh(!1)}},[]),sj=(0,a.useCallback)(async()=>{eq(!0);try{let e=await fetch(`/api/admin/users?search=${ek}&page=${eK}`);if(e.ok){let s=await e.json();eX(s.users||[]),eZ(s.total||0)}else u.toast.error("Failed to fetch users")}catch(e){u.toast.error("Error fetching users")}finally{eq(!1)}},[ek,eK]),sg=(0,a.useCallback)(async()=>{e8(!0);try{let e=await fetch(`/api/admin/assets?status=${e3}`);if(e.ok){let s=await e.json();e5(s.assets||[])}else u.toast.error("Failed to fetch assets")}catch(e){u.toast.error("Error fetching assets")}finally{e8(!1)}},[e3]),sb=(0,a.useCallback)(async()=>{e2(!0);try{let e=await fetch("/api/admin/analytics");if(e.ok){let s=await e.json();e0(s)}else u.toast.error("Failed to fetch analytics")}catch(e){u.toast.error("Error fetching analytics")}finally{e2(!1)}},[]);(0,a.useEffect)(()=>{(async()=>{if(!y){if(!e)return T.push("/");try{(await fetch("/api/admin/check")).ok?(M(!0),sm(),sp()):T.push("/dashboard")}catch(e){console.error("Admin check failed:",e),T.push("/dashboard")}finally{$(!1)}}})()},[e,y,T,sm,sp]),(0,a.useEffect)(()=>{"testimonials"===Q&&0===eF.length&&su()},[Q,eF.length,su]),(0,a.useEffect)(()=>{"users"===Q&&0===eW.length&&sj()},[Q,eW.length,sj]),(0,a.useEffect)(()=>{"assets"===Q&&0===e1.length&&sg()},[Q,e1.length,sg]),(0,a.useEffect)(()=>{"analytics"!==Q||eQ||sb()},[Q,eQ,sb]);let sv=async()=>{se(!0);try{let e=sn?`/api/admin/spin-wheel/prizes/${sn.id}`:"/api/admin/spin-wheel/prizes",s=sn?"PUT":"POST",a=await fetch(e,{method:s,headers:{"Content-Type":"application/json"},body:JSON.stringify(ew)});if(a.ok)u.toast.success(sn?"Prize updated":"Prize created"),sa(!1),sc(null),sm(),sp();else{let e=await a.json();u.toast.error(e.error||"Failed to save prize")}}catch(e){console.error("Error saving prize:",e),u.toast.error("Error saving prize")}finally{se(!1)}},sf=async e=>{if(confirm("Delete this prize?"))try{let s=await fetch(`/api/admin/spin-wheel/prizes/${e}`,{method:"DELETE"});if(s.ok)u.toast.success("Prize deleted"),sm();else{let e=await s.json();u.toast.error(e.error||"Failed to delete prize")}}catch(e){console.error("Error deleting prize:",e),u.toast.error("Error deleting prize")}},sN=async e=>{try{let s=await fetch(`/api/admin/spin-wheel/prizes/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,is_active:!e.is_active})});if(s.ok)u.toast.success(`Prize ${!e.is_active?"activated":"deactivated"}`),sm();else{let e=await s.json();u.toast.error(e.error||"Failed to update prize")}}catch(e){console.error("Error updating prize:",e),u.toast.error("Error updating prize")}},sy=async()=>{se(!0);try{let e=sn?`/api/testimonials/${sn.id}`:"/api/testimonials",s=sn?"PUT":"POST",a=await fetch(e,{method:s,headers:{"Content-Type":"application/json"},body:JSON.stringify(sd)});if(a.ok)u.toast.success(sn?"Testimonial updated":"Testimonial created"),sr(!1),sc(null),su();else{let e=await a.json();u.toast.error(e.error||"Failed to save testimonial")}}catch(e){console.error("Error saving testimonial:",e),u.toast.error("Error saving testimonial")}finally{se(!1)}},sw=async e=>{if(confirm("Delete this testimonial?"))try{let s=await fetch(`/api/testimonials/${e}`,{method:"DELETE"});if(s.ok)u.toast.success("Testimonial deleted"),su();else{let e=await s.json();u.toast.error(e.error||"Failed to delete testimonial")}}catch(e){console.error("Error deleting testimonial:",e),u.toast.error("Error deleting testimonial")}},sC=async e=>{try{let s=await fetch(`/api/testimonials/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,is_featured:!e.is_featured})});if(s.ok)u.toast.success(`Testimonial ${!e.is_featured?"shown":"hidden"}`),su();else{let e=await s.json();u.toast.error(e.error||"Failed to update testimonial")}}catch(e){console.error("Error updating testimonial:",e),u.toast.error("Error updating testimonial")}},sk=async(e,s)=>{try{let a=await fetch(`/api/admin/users/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"ban",ban:!0,reason:s})});if(a.ok)u.toast.success("User banned"),sj();else{let e=await a.json();u.toast.error(e.error||"Failed to ban user")}}catch(e){console.error("Error banning user:",e),u.toast.error("Error banning user")}},sS=async(e,s,a)=>{try{let t=await fetch(`/api/admin/users/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"addCoins",amount:s,reason:a})});if(t.ok)u.toast.success("Coins updated"),sj();else{let e=await t.json();u.toast.error(e.error||"Failed to update coins")}}catch(e){console.error("Error updating coins:",e),u.toast.error("Error updating coins")}},sT=async(e,s)=>{try{let a=await fetch("/api/admin/assets",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({assetId:e,status:s})});if(a.ok)u.toast.success("Asset status updated"),sg();else{let e=await a.json();u.toast.error(e.error||"Failed to update asset")}}catch(e){console.error("Error updating asset:",e),u.toast.error("Error updating asset")}};if(R||y)return(0,s.jsxs)("div",{className:"flex min-h-screen items-center justify-center bg-black",children:[" ",(0,s.jsx)(N.Loader2,{className:"h-8 w-8 animate-spin text-primary"})]});if(!(e&&e.isAdmin))return(0,s.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-black",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(P.Shield,{className:"mx-auto h-12 w-12 text-red-500"}),(0,s.jsx)("h1",{className:"mt-4 text-2xl font-bold text-white",children:"Access Denied"}),(0,s.jsx)("p",{className:"mt-2 text-gray-400",children:"You don't have permission to access this page"})]})});let s_=em.filter(e=>e.is_active).reduce((e,s)=>e+s.probability,0);return(0,s.jsxs)("div",{className:"flex min-h-screen flex-col bg-black",children:[" ",(0,s.jsx)(l.Header,{}),(0,s.jsxs)("div",{className:"flex flex-1",children:[(0,s.jsx)(i.Sidebar,{})," ",(0,s.jsxs)("main",{className:"ml-0 md:ml-72 flex-1 p-6 lg:p-8",children:[" ",(0,s.jsx)(u.Toaster,{richColors:!0,closeButton:!0})," ",(0,s.jsxs)("div",{className:"mx-auto max-w-7xl space-y-8",children:[" ",(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[" ",(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Admin Dashboard"})," ",(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-400",children:"Manage your platform"})," "]})]}),(0,s.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[" ",(0,s.jsxs)(p.Card,{className:"group cursor-pointer border-border bg-card p-6 transition-all hover:border-primary",onClick:()=>ee("spin-wheel"===Q?null:"spin-wheel"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-white",children:"Spin Wheel"})," ",(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Manage prizes & stats"})," "]}),(0,s.jsx)(b.Trophy,{className:"h-8 w-8 text-primary"})]}),eg&&(0,s.jsxs)("div",{className:"mt-4 grid grid-cols-2 gap-2 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-400",children:"Total Spins"})," ",(0,s.jsx)("p",{className:"font-semibold text-white",children:eg.totalSpins||0})," "]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-400",children:"Coins Won"})," ",(0,s.jsx)("p",{className:"font-semibold text-white",children:eg.totalCoinsWon||0})," "]})]})]}),(0,s.jsxs)(p.Card,{className:"group cursor-pointer border-border bg-card p-6 transition-all hover:border-primary",onClick:()=>ee("testimonials"===Q?null:"testimonials"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-white",children:"Testimonials"})," ",(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Manage reviews"})," "]}),(0,s.jsx)(_.MessageSquare,{className:"h-8 w-8 text-primary"})]}),(0,s.jsxs)("div",{className:"mt-4 grid grid-cols-2 gap-2 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-400",children:"Total"})," ",(0,s.jsx)("p",{className:"font-semibold text-white",children:eF.length})," "]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-400",children:"Verified"})," ",(0,s.jsx)("p",{className:"font-semibold text-white",children:eF.filter(e=>e.is_verified).length})," "]})]})]}),(0,s.jsxs)(p.Card,{className:"group cursor-pointer border-border bg-card p-6 transition-all hover:border-primary",onClick:()=>ee("users"===Q?null:"users"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-white",children:"Users"})," ",(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Manage members"})," "]}),(0,s.jsx)(j.Users,{className:"h-8 w-8 text-primary"})]}),(0,s.jsxs)("div",{className:"mt-4 grid grid-cols-2 gap-2 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-400",children:"Total"})," ",(0,s.jsx)("p",{className:"font-semibold text-white",children:eY})," "]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-400",children:"Banned"})," ",(0,s.jsx)("p",{className:"font-semibold text-white",children:eW.filter(e=>e.isBanned).length})," "]})]})]}),(0,s.jsxs)(p.Card,{className:"group cursor-pointer border-border bg-card p-6 transition-all hover:border-primary",onClick:()=>ee("assets"===Q?null:"assets"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-white",children:"Assets"})," ",(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Manage content"})," "]}),(0,s.jsx)(B.Package,{className:"h-8 w-8 text-primary"})]}),(0,s.jsxs)("div",{className:"mt-4 grid grid-cols-2 gap-2 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-400",children:"Total"})," ",(0,s.jsx)("p",{className:"font-semibold text-white",children:e1.length})," "]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-400",children:"Pending"})," ",(0,s.jsx)("p",{className:"font-semibold text-white",children:e1.filter(e=>"pending"===e.status).length})," "]})]})]}),(0,s.jsxs)(p.Card,{className:"group cursor-pointer border-border bg-card p-6 transition-all hover:border-primary",onClick:()=>ee("analytics"===Q?null:"analytics"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-white",children:"Analytics"})," ",(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"View insights"})," "]}),(0,s.jsx)(A.TrendingUp,{className:"h-8 w-8 text-primary"})]}),eQ&&(0,s.jsxs)("div",{className:"mt-4 grid grid-cols-2 gap-2 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-400",children:"Downloads"})," ",(0,s.jsx)("p",{className:"font-semibold text-white",children:eQ.overview?.totalDownloads||0})," "]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-400",children:"Posts"})," ",(0,s.jsx)("p",{className:"font-semibold text-white",children:eQ.overview?.totalPosts||0})," "]})]})]})]}),"spin-wheel"===Q&&(0,s.jsxs)(p.Card,{className:"border-border bg-card p-6",children:[(0,s.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Spin Wheel Management"})," ",(0,s.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>ee(null),children:(0,s.jsx)(E.X,{className:"h-5 w-5"})})]}),(0,s.jsxs)(h.Tabs,{value:ex,onValueChange:eh,children:[(0,s.jsxs)(h.TabsList,{className:"mb-6",children:[(0,s.jsx)(h.TabsTrigger,{value:"prizes",children:"Prizes"}),(0,s.jsx)(h.TabsTrigger,{value:"probability",children:"Win Rates"}),(0,s.jsx)(h.TabsTrigger,{value:"stats",children:"Statistics"})]}),(0,s.jsxs)(h.TabsContent,{value:"prizes",className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:[em.length," prizes configured"]})," ",(0,s.jsxs)(n.Button,{onClick:()=>{sc(null),eC({name:"",coins:10,color:"#3b82f6",probability:10,is_active:!0,rarity:"common",description:"",image_url:""}),sa(!0)},children:[(0,s.jsx)(v.Plus,{className:"mr-2 h-4 w-4"}),"Add Prize"]})]}),eV?(0,s.jsx)("div",{className:"flex justify-center py-8",children:(0,s.jsx)(N.Loader2,{className:"h-6 w-6 animate-spin"})}):(0,s.jsx)("div",{className:"space-y-2",children:em.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-border bg-background p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"h-10 w-10 rounded-lg",style:{backgroundColor:e.color}}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("p",{className:"font-semibold text-white",children:e.name})," ",(0,s.jsxs)("span",{className:"text-sm text-yellow-500",children:[e.coins," coins"]}),e.rarity&&(0,s.jsx)("span",{className:`text-xs ${I.find(s=>s.value===e.rarity)?.color}`,children:e.rarity})]}),(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:[e.probability,"% chance"]})," "]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>sN(e),children:e.is_active?(0,s.jsx)(C.Eye,{className:"h-4 w-4"}):(0,s.jsx)(k.EyeOff,{className:"h-4 w-4 opacity-50"})}),(0,s.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>{sc(e),eC({name:e.name,coins:e.coins,color:e.color,probability:e.probability,is_active:e.is_active,rarity:e.rarity||"common",description:e.description||"",image_url:e.image_url||""}),sa(!0)},children:(0,s.jsx)(z.Edit,{className:"h-4 w-4"})}),(0,s.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>sf(e.id),children:(0,s.jsx)(f.Trash2,{className:"h-4 w-4 text-red-500"})})]})]},e.id))})]}),(0,s.jsxs)(h.TabsContent,{value:"probability",className:"space-y-4",children:[(0,s.jsxs)("div",{className:"rounded-lg border border-border bg-background p-4",children:[(0,s.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-semibold text-white",children:"Total Probability"})," ",(0,s.jsxs)("p",{className:"text-2xl font-bold text-white",children:[s_,"%"]})," "]}),(0,s.jsx)(n.Button,{onClick:()=>{let e=em.filter(e=>e.is_active);if(0===e.length)return void u.toast.warning("No active prizes to balance.");let s=Math.floor(100/e.length),a=100-s*e.length;ep(em.map(t=>{if(!t.is_active)return t;let r=e.findIndex(e=>e.id===t.id);return{...t,probability:s+(0===r?a:0)}})),e.forEach((e,t)=>{fetch("/api/admin/spin-wheel/prizes",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id,probability:s+(0===t?a:0)})})}),u.toast.success("Probabilities auto-balanced!")},size:"sm",children:"Auto Balance"})]}),100!==s_&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-yellow-500",children:[(0,s.jsx)(L.AlertCircle,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Probabilities should total 100%"})]})]}),(0,s.jsx)("div",{className:"space-y-4",children:em.filter(e=>e.is_active).map(e=>(0,s.jsxs)("div",{className:"rounded-lg border border-border bg-background p-4",children:[(0,s.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"h-8 w-8 rounded",style:{backgroundColor:e.color}}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-white",children:e.name})," ",(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:[e.coins," coins"]})," "]})]}),(0,s.jsxs)("span",{className:"text-lg font-bold text-white",children:[e.probability,"%"]})," "]}),(0,s.jsx)("div",{className:"h-2 overflow-hidden rounded-full bg-gray-700",children:(0,s.jsx)("div",{className:"h-full transition-all",style:{width:`${e.probability}%`,backgroundColor:e.color}})})]},e.id))})]}),(0,s.jsxs)(h.TabsContent,{value:"stats",className:"space-y-4",children:[(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsxs)(n.Button,{variant:"outline",size:"sm",onClick:sp,disabled:!1,children:[(0,s.jsx)(g.RefreshCw,{className:"mr-2 h-4 w-4"}),"Refresh"]})}),eg&&(0,s.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[(0,s.jsxs)(p.Card,{className:"border-border bg-background p-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Total Spins"})," ",(0,s.jsx)("p",{className:"text-2xl font-bold text-white",children:eg.totalSpins})," "]}),(0,s.jsxs)(p.Card,{className:"border-border bg-background p-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Coins Won"})," ",(0,s.jsx)("p",{className:"text-2xl font-bold text-white",children:eg.totalCoinsWon})," "]}),(0,s.jsxs)(p.Card,{className:"border-border bg-background p-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Avg Per Spin"})," ",(0,s.jsx)("p",{className:"text-2xl font-bold text-white",children:eg.avgCoinsPerSpin?.toFixed(1)||0})," "]}),(0,s.jsxs)(p.Card,{className:"border-border bg-background p-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Unique Spinners"})," ",(0,s.jsx)("p",{className:"text-2xl font-bold text-white",children:eg.uniqueSpinners})," "]})]})]})]})]}),"testimonials"===Q&&(0,s.jsxs)(p.Card,{className:"border-border bg-card p-6",children:[(0,s.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Testimonials Management"})," ",(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(n.Button,{onClick:()=>{sc(null),so({username:"",avatar:"",content:"",rating:5,server_name:"",upvotes_received:0,is_featured:!0,is_verified:!1,badge:"",image_url:""}),sr(!0)},children:[(0,s.jsx)(v.Plus,{className:"mr-2 h-4 w-4"}),"Add Testimonial"]}),(0,s.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>ee(null),children:(0,s.jsx)(E.X,{className:"h-5 w-5"})})]})]}),sx?(0,s.jsx)("div",{className:"flex justify-center py-8",children:(0,s.jsx)(N.Loader2,{className:"h-6 w-6 animate-spin"})}):(0,s.jsx)("div",{className:"space-y-2",children:eF.map(e=>(0,s.jsxs)("div",{className:"flex items-start justify-between rounded-lg border border-border bg-background p-4",children:[(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("img",{src:e.avatar||"/placeholder.svg?height=40&width=40",alt:e.username,className:"h-10 w-10 rounded-full"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("p",{className:"font-semibold text-white",children:e.username})," ",e.is_verified&&(0,s.jsx)(w.CheckCircle,{className:"h-4 w-4 text-blue-500"}),e.badge&&(0,s.jsx)("span",{className:"rounded bg-primary/20 px-2 py-0.5 text-xs text-primary",children:e.badge}),(0,s.jsx)("div",{className:"flex items-center",children:[void 0,void 0,void 0,void 0,void 0].map((a,t)=>(0,s.jsx)(S.Star,{className:`h-3 w-3 ${t<e.rating?"fill-yellow-500 text-yellow-500":"text-gray-600"}`},t))})]}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-300",children:e.content})," ",e.server_name&&(0,s.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:["Server: ",e.server_name]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>sC(e),children:e.is_featured?(0,s.jsx)(C.Eye,{className:"h-4 w-4"}):(0,s.jsx)(k.EyeOff,{className:"h-4 w-4 opacity-50"})}),(0,s.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>{sc(e),so({username:e.username,avatar:e.avatar||"",content:e.content,rating:e.rating,server_name:e.server_name||"",upvotes_received:e.upvotes_received||0,is_featured:e.is_featured,is_verified:e.is_verified,badge:e.badge||"",image_url:e.image_url||""}),sr(!0)},children:(0,s.jsx)(z.Edit,{className:"h-4 w-4"})}),(0,s.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>sw(e.id),children:(0,s.jsx)(f.Trash2,{className:"h-4 w-4 text-red-500"})})]})]},e.id))})]}),"users"===Q&&(0,s.jsxs)(p.Card,{className:"border-border bg-card p-6",children:[(0,s.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Users Management"})," ",(0,s.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>ee(null),children:(0,s.jsx)(E.X,{className:"h-5 w-5"})})]}),(0,s.jsxs)("div",{className:"mb-4 flex gap-2",children:[(0,s.jsx)(c.Input,{placeholder:"Search users...",value:ek,onChange:e=>eS(e.target.value),className:"max-w-sm"}),(0,s.jsxs)(n.Button,{onClick:sj,children:[(0,s.jsx)(g.RefreshCw,{className:"mr-2 h-4 w-4"}),"Refresh"]})]}),eH?(0,s.jsx)("div",{className:"flex justify-center py-8",children:(0,s.jsx)(N.Loader2,{className:"h-6 w-6 animate-spin"})}):(0,s.jsx)("div",{className:"space-y-2",children:eW.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-border bg-background p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("img",{src:e.avatar||"/placeholder.svg?height=40&width=40",alt:e.username,className:"h-10 w-10 rounded-full"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("p",{className:"font-semibold text-white",children:e.username})," ",e.isAdmin&&(0,s.jsx)(P.Shield,{className:"h-4 w-4 text-primary"}),e.isBanned&&(0,s.jsx)(U.Ban,{className:"h-4 w-4 text-red-500"})]}),(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:[" ",e.coins," coins • ",e.membership]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>{let s=prompt("Enter coins amount (+ or -):"),a=prompt("Reason:");if(s&&a){let t=Number.parseInt(s);isNaN(t)?u.toast.error("Invalid amount entered."):sS(e.discordId,t,a)}},children:(0,s.jsx)(O.DollarSign,{className:"h-4 w-4"})}),(0,s.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>{let s=prompt("Ban reason:");s&&sk(e.discordId,s)},children:(0,s.jsx)(U.Ban,{className:"h-4 w-4 text-red-500"})})]})]},e.id))})]}),"assets"===Q&&(0,s.jsxs)(p.Card,{className:"border-border bg-card p-6",children:[(0,s.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Assets Management"})," ",(0,s.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>ee(null),children:(0,s.jsx)(E.X,{className:"h-5 w-5"})})]}),(0,s.jsx)(h.Tabs,{value:e3,onValueChange:e9,className:"mb-4",children:(0,s.jsxs)(h.TabsList,{children:[(0,s.jsx)(h.TabsTrigger,{value:"all",children:"All"}),(0,s.jsx)(h.TabsTrigger,{value:"pending",children:"Pending"}),(0,s.jsx)(h.TabsTrigger,{value:"approved",children:"Approved"}),(0,s.jsx)(h.TabsTrigger,{value:"rejected",children:"Rejected"})]})}),e6?(0,s.jsx)("div",{className:"flex justify-center py-8",children:(0,s.jsx)(N.Loader2,{className:"h-6 w-6 animate-spin"})}):(0,s.jsx)("div",{className:"space-y-2",children:e1.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-border bg-background p-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-white",children:e.title})," ",(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:[" ",e.category," • ",e.downloads," downloads • ",e.coinPrice," coins"]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["by ",e.author?.username||"Unknown"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>sT(e.id,"approved"),children:(0,s.jsx)(w.CheckCircle,{className:"h-4 w-4 text-green-500"})}),(0,s.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>sT(e.id,"rejected"),children:(0,s.jsx)(E.X,{className:"h-4 w-4 text-red-500"})})]})]},e.id))})]}),"analytics"===Q&&(0,s.jsxs)(p.Card,{className:"border-border bg-card p-6",children:[(0,s.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Analytics Overview"})," ",(0,s.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>ee(null),children:(0,s.jsx)(E.X,{className:"h-5 w-5"})})]}),e4?(0,s.jsx)("div",{className:"flex justify-center py-8",children:(0,s.jsx)(N.Loader2,{className:"h-6 w-6 animate-spin"})}):eQ?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[(0,s.jsxs)(p.Card,{className:"border-border bg-background p-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Total Users"})," ",(0,s.jsx)("p",{className:"text-2xl font-bold text-white",children:eQ.overview?.totalUsers||0})," ",(0,s.jsxs)("p",{className:"text-xs text-green-500",children:["+",eQ.growth?.users||0,"% this week"]})]}),(0,s.jsxs)(p.Card,{className:"border-border bg-background p-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Total Assets"})," ",(0,s.jsx)("p",{className:"text-2xl font-bold text-white",children:eQ.overview?.totalAssets||0})," ",(0,s.jsxs)("p",{className:"text-xs text-green-500",children:["+",eQ.growth?.assets||0,"% this week"]})]}),(0,s.jsxs)(p.Card,{className:"border-border bg-background p-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Total Downloads"})," ",(0,s.jsx)("p",{className:"text-2xl font-bold text-white",children:eQ.overview?.totalDownloads||0})," ",(0,s.jsxs)("p",{className:"text-xs text-green-500",children:["+",eQ.growth?.downloads||0,"% this week"]})]}),(0,s.jsxs)(p.Card,{className:"border-border bg-background p-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Total Posts"})," ",(0,s.jsx)("p",{className:"text-2xl font-bold text-white",children:eQ.overview?.totalPosts||0})," ",(0,s.jsxs)("p",{className:"text-xs text-green-500",children:["+",eQ.growth?.posts||0,"% this week"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"mb-4 text-lg font-semibold text-white",children:"Top Assets"})," ",(0,s.jsx)("div",{className:"space-y-2",children:eQ.topAssets?.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-border bg-background p-3",children:[(0,s.jsx)("p",{className:"text-sm text-white",children:e.title})," ",(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:[e.downloads," downloads"]})," "]},e.id))})]})]}):null]})]}),(0,s.jsx)(m.Dialog,{open:ss,onOpenChange:sa,children:(0,s.jsxs)(m.DialogContent,{className:"max-w-2xl",children:[(0,s.jsx)(m.DialogHeader,{children:(0,s.jsx)(m.DialogTitle,{children:sn?"Edit Prize":"Add Prize"})}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{children:"Prize Name"}),(0,s.jsx)(c.Input,{value:ew.name,onChange:e=>eC({...ew,name:e.target.value}),placeholder:"e.g., 10 Coins"})]}),(0,s.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{children:"Coins Amount"}),(0,s.jsx)(c.Input,{type:"number",value:ew.coins,onChange:e=>eC({...ew,coins:Number.parseInt(e.target.value)||0})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{children:"Probability (%)"}),(0,s.jsx)(c.Input,{type:"number",value:ew.probability,onChange:e=>eC({...ew,probability:Number.parseInt(e.target.value)||0})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{children:"Color"}),(0,s.jsx)("div",{className:"flex gap-2",children:D.map(e=>(0,s.jsx)("button",{className:"h-8 w-8 rounded border-2",style:{backgroundColor:e,borderColor:ew.color===e?"#fff":"transparent"},onClick:()=>eC({...ew,color:e})},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{children:"Rarity"}),(0,s.jsx)("div",{className:"flex gap-2",children:I.map(e=>(0,s.jsx)("button",{className:`rounded-lg border px-4 py-2 text-sm ${ew.rarity===e.value?"border-primary bg-primary/20":"border-border bg-background"}`,onClick:()=>eC({...ew,rarity:e.value}),children:e.label},e.value))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{children:"Description (Optional)"}),(0,s.jsx)(x.Textarea,{value:ew.description,onChange:e=>eC({...ew,description:e.target.value}),placeholder:"Prize description..."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{children:"Image URL (Optional)"}),(0,s.jsx)(c.Input,{value:ew.image_url,onChange:e=>eC({...ew,image_url:e.target.value}),placeholder:"https://..."})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(o.Switch,{checked:ew.is_active,onCheckedChange:e=>eC({...ew,is_active:e})}),(0,s.jsx)(d.Label,{children:"Active"})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(n.Button,{variant:"outline",onClick:()=>sa(!1),disabled:e7,children:"Cancel"}),(0,s.jsxs)(n.Button,{onClick:sv,disabled:e7,children:[e7?(0,s.jsx)(N.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):null,sn?"Update":"Create"]})]})]})]})}),(0,s.jsx)(m.Dialog,{open:st,onOpenChange:sr,children:(0,s.jsxs)(m.DialogContent,{className:"max-w-2xl",children:[(0,s.jsx)(m.DialogHeader,{children:(0,s.jsx)(m.DialogTitle,{children:sn?"Edit Testimonial":"Add Testimonial"})}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{children:"Username"}),(0,s.jsx)(c.Input,{value:sd.username,onChange:e=>so({...sd,username:e.target.value}),placeholder:"Username"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{children:"Server Name (Optional)"}),(0,s.jsx)(c.Input,{value:sd.server_name,onChange:e=>so({...sd,server_name:e.target.value}),placeholder:"Server name"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{children:"Avatar URL (Optional)"}),(0,s.jsx)(c.Input,{value:sd.avatar,onChange:e=>so({...sd,avatar:e.target.value}),placeholder:"https://..."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{children:"Content"}),(0,s.jsx)(x.Textarea,{value:sd.content,onChange:e=>so({...sd,content:e.target.value}),placeholder:"Testimonial content...",rows:4})]}),(0,s.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{children:"Rating (1-5)"}),(0,s.jsx)(c.Input,{type:"number",min:"1",max:"5",value:sd.rating,onChange:e=>so({...sd,rating:Number.parseInt(e.target.value)||5})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{children:"Upvotes Received"}),(0,s.jsx)(c.Input,{type:"number",value:sd.upvotes_received,onChange:e=>so({...sd,upvotes_received:Number.parseInt(e.target.value)||0})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{children:"Badge (Optional)"}),(0,s.jsx)(c.Input,{value:sd.badge,onChange:e=>so({...sd,badge:e.target.value}),placeholder:"e.g., Verified, Pro, VIP"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{children:"Image URL (Optional)"}),(0,s.jsx)(c.Input,{value:sd.image_url,onChange:e=>so({...sd,image_url:e.target.value}),placeholder:"https://..."})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(o.Switch,{checked:sd.is_featured,onCheckedChange:e=>so({...sd,is_featured:e})}),(0,s.jsx)(d.Label,{children:"Visible"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(o.Switch,{checked:sd.is_verified,onCheckedChange:e=>so({...sd,is_verified:e})}),(0,s.jsx)(d.Label,{children:"Verified"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(n.Button,{variant:"outline",onClick:()=>sr(!1),disabled:e7,children:"Cancel"}),(0,s.jsxs)(n.Button,{onClick:sy,disabled:e7,children:[e7?(0,s.jsx)(N.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):null,sn?"Update":"Create"]})]})]})]})})]})]})]})}e.s(["default",()=>R],12089)}]);