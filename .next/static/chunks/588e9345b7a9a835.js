(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,46600,e=>{"use strict";let t=(0,e.i(11317).default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);e.s(["Shield",()=>t],46600)},61833,e=>{"use strict";var t=e.i(34355),s=e.i(49094);function a({className:e,type:a,...r}){return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}e.s(["Input",()=>a])},8700,e=>{"use strict";var t=e.i(84025),s=e.i(55161);function a(e){let[a,r]=t.useState(void 0);return(0,s.useLayoutEffect)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let s,a;if(!Array.isArray(t)||!t.length)return;let l=t[0];if("borderBoxSize"in l){let e=l.borderBoxSize,t=Array.isArray(e)?e[0]:e;s=t.inlineSize,a=t.blockSize}else s=e.offsetWidth,a=e.offsetHeight;r({width:s,height:a})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),a}e.s(["useSize",()=>a])},42242,e=>{"use strict";let t=(0,e.i(11317).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],42242)},83106,e=>{"use strict";let t=(0,e.i(11317).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["default",()=>t])},52353,e=>{"use strict";var t=e.i(34355),s=e.i(97886),a=e.i(85866),r=e.i(49094);let l=(0,a.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:a,asChild:i=!1,...n}){let d=i?s.Slot:"span";return(0,t.jsx)(d,{"data-slot":"badge",className:(0,r.cn)(l({variant:a}),e),...n})}e.s(["Badge",()=>i])},52385,e=>{"use strict";let t=(0,e.i(11317).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);e.s(["Download",()=>t],52385)},67688,e=>{"use strict";let t=(0,e.i(11317).default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["ExternalLink",()=>t],67688)},51950,e=>{"use strict";let t=(0,e.i(11317).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],51950)},72986,e=>{"use strict";let t=(0,e.i(11317).default)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>t],72986)},28226,e=>{"use strict";let t=(0,e.i(11317).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>t],28226)},98152,e=>{"use strict";let t=(0,e.i(11317).default)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);e.s(["Tag",()=>t],98152)},24167,e=>{"use strict";let t=(0,e.i(11317).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>t],24167)},99783,e=>{"use strict";let t=(0,e.i(11317).default)("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);e.s(["Smile",()=>t],99783)},80012,e=>{"use strict";let t=(0,e.i(11317).default)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);e.s(["History",()=>t],80012)},27381,e=>{"use strict";let t=(0,e.i(11317).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>t],27381)},96021,e=>{"use strict";var t=e.i(34355),s=e.i(49094);function a({className:e,...a}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,s.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...a})}e.s(["Textarea",()=>a])},27272,e=>{"use strict";let t=(0,e.i(11317).default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>t],27272)},49437,e=>{"use strict";let t=(0,e.i(11317).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],49437)},45650,e=>{"use strict";let t=(0,e.i(11317).default)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);e.s(["ImageIcon",()=>t],45650)},82458,e=>{"use strict";let t=(0,e.i(11317).default)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);e.s(["LinkIcon",()=>t],82458)},77408,e=>{"use strict";let t=(0,e.i(11317).default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>t],77408)},30754,e=>{"use strict";var t=e.i(34355),s=e.i(84025),a=e.i(13993),r=e.i(3339),l=e.i(53746),i=e.i(38589),n=e.i(61833),d=e.i(96021),c=e.i(52353),o=e.i(48066),u=e.i(72986),x=e.i(60821),h=e.i(11317);let m=(0,h.default)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);var p=e.i(51950),g=e.i(49437),v=e.i(52400),f=e.i(24167),j=e.i(64679),b=e.i(52385),y=e.i(42242),N=e.i(27381),k=e.i(28226),w=e.i(80905),C=e.i(45650),S=e.i(82458),M=e.i(98152),z=e.i(77408),A=e.i(99783),L=e.i(27272),T=e.i(41659);let B=(0,h.default)("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);var I=e.i(95723),E=e.i(80012),H=e.i(67688),q=e.i(84175),P=e.i(82244);let F=["ðŸ”¥","âœ…","â­","ðŸ’Ž","ðŸŽ®","ðŸš—","ðŸ ","ðŸ‘•","ðŸ’°","ðŸŽ¯","ðŸš€","ðŸ’ª","ðŸ‘","â¤ï¸","ðŸŽ‰","âœ¨","âš¡","ðŸ”§","ðŸ“¦","ðŸ› ï¸","ðŸŽ¨","ðŸ“±","ðŸ’»","ðŸŒŸ","ðŸ”’","âš™ï¸","ðŸ“‹","ðŸ†","ðŸ’¡","ðŸ””"];function R(){let{user:e,isLoading:h}=(0,o.useAuth)(),R=(0,a.useRouter)(),[V,D]=(0,s.useState)([]),[_,U]=(0,s.useState)(!0),[O,X]=(0,s.useState)(null),[$,J]=(0,s.useState)(""),[K,W]=(0,s.useState)("all"),[Q,Z]=(0,s.useState)("all"),[G,Y]=(0,s.useState)(null),[ee,et]=(0,s.useState)({}),[es,ea]=(0,s.useState)(!1),[er,el]=(0,s.useState)("basic"),[ei,en]=(0,s.useState)(!1),ed=(0,s.useRef)(!1),ec=(0,s.useCallback)(async()=>{U(!0),X(null);try{let e=await fetch("/api/admin/assets");if(!e.ok)throw Error("Failed to fetch assets");let t=((await e.json()).assets||[]).map(e=>({...e,tags:e.tags||[],thumbnail:e.thumbnail||null,author:e.author||{username:"Unknown",avatar:""},downloads:e.downloads||0,coin_price:e.coin_price||0,status:e.status||"pending",features:e.features||"",installation:e.installation||"",changelog:e.changelog||"",version:e.version||"1.0.0"}));D(t)}catch(e){X(e.message),D([])}finally{U(!1)}},[]);(0,s.useEffect)(()=>{h||e?.isAdmin||R.push("/")},[e,h,R]),(0,s.useEffect)(()=>{e?.isAdmin&&!ed.current&&(ed.current=!0,ec())},[e?.isAdmin,ec]);let eo=async()=>{if(G){ea(!0);try{if(!(await fetch(`/api/admin/assets/${G.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ee)})).ok)throw Error("Failed to update asset");Y(null),ec()}catch(e){X(e.message)}finally{ea(!1)}}},eu=async e=>{if(confirm("Are you sure you want to delete this asset?"))try{if(!(await fetch(`/api/admin/assets/${e}`,{method:"DELETE"})).ok)throw Error("Failed to delete asset");ec()}catch(e){X(e.message)}},ex=async(e,t)=>{try{if(!(await fetch(`/api/admin/assets/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:t})})).ok)throw Error("Failed to update status");ec()}catch(e){X(e.message)}},eh=V.filter(e=>{let t=e.title.toLowerCase().includes($.toLowerCase())||e.description?.toLowerCase().includes($.toLowerCase()),s="all"===K||e.status===K,a="all"===Q||e.category===Q;return t&&s&&a});return h?(0,t.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,t.jsx)(y.Loader2,{className:"h-12 w-12 animate-spin text-primary"})}):e?.isAdmin?(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)(r.Sidebar,{}),(0,t.jsxs)("main",{className:"md:ml-72 transition-all duration-300",children:[(0,t.jsx)(l.Header,{}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[(0,t.jsx)(u.Package,{className:"h-6 w-6 text-primary"}),"Asset Management"]}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage and moderate all uploaded assets"})]}),(0,t.jsxs)(i.Button,{onClick:ec,variant:"outline",className:"gap-2 bg-transparent",children:[(0,t.jsx)(k.RefreshCw,{className:"h-4 w-4"}),"Refresh"]})]}),O&&(0,t.jsxs)("div",{className:"mb-6 p-4 bg-destructive/10 border border-destructive/30 rounded-xl text-destructive flex items-center gap-2",children:[(0,t.jsx)(w.AlertTriangle,{className:"h-5 w-5"}),O]}),(0,t.jsx)("div",{className:"glass rounded-xl p-4 mb-6",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(x.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(n.Input,{placeholder:"Search assets...",value:$,onChange:e=>J(e.target.value),className:"pl-10 bg-secondary/50"})]}),(0,t.jsxs)("select",{className:"h-10 px-3 rounded-md border bg-secondary/50",value:K,onChange:e=>W(e.target.value),children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"active",children:"Active"}),(0,t.jsx)("option",{value:"pending",children:"Pending"}),(0,t.jsx)("option",{value:"rejected",children:"Rejected"})]}),(0,t.jsxs)("select",{className:"h-10 px-3 rounded-md border bg-secondary/50",value:Q,onChange:e=>Z(e.target.value),children:[(0,t.jsx)("option",{value:"all",children:"All Categories"}),(0,t.jsx)("option",{value:"scripts",children:"Scripts"}),(0,t.jsx)("option",{value:"mlo",children:"MLO"}),(0,t.jsx)("option",{value:"vehicles",children:"Vehicles"}),(0,t.jsx)("option",{value:"clothing",children:"Clothing"})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"glass rounded-xl p-4 text-center",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-foreground",children:V.length}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Assets"})]}),(0,t.jsxs)("div",{className:"glass rounded-xl p-4 text-center",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-success",children:V.filter(e=>"active"===e.status).length}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Active"})]}),(0,t.jsxs)("div",{className:"glass rounded-xl p-4 text-center",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-warning",children:V.filter(e=>"pending"===e.status).length}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Pending"})]}),(0,t.jsxs)("div",{className:"glass rounded-xl p-4 text-center",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-destructive",children:V.filter(e=>"rejected"===e.status).length}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Rejected"})]})]}),(0,t.jsx)("div",{className:"glass rounded-xl overflow-hidden",children:_?(0,t.jsxs)("div",{className:"p-12 text-center",children:[(0,t.jsx)(y.Loader2,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2",children:"Loading assets..."})]}):0===eh.length?(0,t.jsxs)("div",{className:"p-12 text-center",children:[(0,t.jsx)(u.Package,{className:"h-12 w-12 mx-auto text-muted-foreground/50"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2",children:"No assets found"})]}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-secondary/50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Asset"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Category"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Author"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Status"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Stats"}),(0,t.jsx)("th",{className:"px-4 py-3 text-right text-sm font-medium text-muted-foreground",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-border/50",children:eh.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-secondary/30 transition-colors",children:[(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"relative h-12 w-16 rounded-lg overflow-hidden bg-secondary/50 shrink-0",children:e.thumbnail?(0,t.jsx)(q.default,{src:e.thumbnail||"/placeholder.svg",alt:e.title,fill:!0,className:"object-cover",unoptimized:!0}):(0,t.jsx)("div",{className:"h-full w-full flex items-center justify-center",children:(0,t.jsx)(C.ImageIcon,{className:"h-5 w-5 text-muted-foreground"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-foreground line-clamp-1",children:e.title}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["v",e.version||"1.0.0"]})]})]})}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsx)(c.Badge,{variant:"outline",className:"capitalize",children:e.category})}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"relative h-6 w-6 rounded-full overflow-hidden bg-secondary",children:e.author?.avatar?(0,t.jsx)(q.default,{src:e.author.avatar||"/placeholder.svg",alt:"",fill:!0,className:"object-cover",unoptimized:!0}):(0,t.jsx)("div",{className:"h-full w-full bg-primary/20"})}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:e.author?.username||"Unknown"})]})}),(0,t.jsx)("td",{className:"px-4 py-3",children:(e=>{switch(e){case"active":return(0,t.jsxs)(c.Badge,{className:"bg-success/20 text-success border-success/30",children:[(0,t.jsx)(v.CheckCircle,{className:"h-3 w-3 mr-1"}),"Active"]});case"pending":return(0,t.jsxs)(c.Badge,{className:"bg-warning/20 text-warning border-warning/30",children:[(0,t.jsx)(j.Clock,{className:"h-3 w-3 mr-1"}),"Pending"]});case"rejected":return(0,t.jsxs)(c.Badge,{className:"bg-destructive/20 text-destructive border-destructive/30",children:[(0,t.jsx)(f.XCircle,{className:"h-3 w-3 mr-1"}),"Rejected"]});default:return(0,t.jsx)(c.Badge,{className:"bg-secondary",children:e})}})(e.status)}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(b.Download,{className:"h-3 w-3"}),e.downloads]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(z.DollarSign,{className:"h-3 w-3"}),e.coin_price]})]})}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,t.jsx)(P.default,{href:`/asset/${e.id}`,target:"_blank",children:(0,t.jsx)(i.Button,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,t.jsx)(g.Eye,{className:"h-4 w-4"})})}),(0,t.jsx)(i.Button,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{Y(e),et({title:e.title,description:e.description,category:e.category,framework:e.framework,coin_price:e.coin_price,status:e.status,thumbnail:e.thumbnail||"",download_link:e.download_link||"",tags:e.tags||[],features:e.features||"",installation:e.installation||"",changelog:e.changelog||"",version:e.version||"1.0.0"}),el("basic")},children:(0,t.jsx)(m,{className:"h-4 w-4"})}),"pending"===e.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Button,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-success hover:text-success",onClick:()=>ex(e.id,"active"),children:(0,t.jsx)(v.CheckCircle,{className:"h-4 w-4"})}),(0,t.jsx)(i.Button,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-destructive hover:text-destructive",onClick:()=>ex(e.id,"rejected"),children:(0,t.jsx)(f.XCircle,{className:"h-4 w-4"})})]}),(0,t.jsx)(i.Button,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-destructive hover:text-destructive",onClick:()=>eu(e.id),children:(0,t.jsx)(p.Trash2,{className:"h-4 w-4"})})]})})]},e.id))})]})})}),G&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"glass rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-border/50 flex items-center justify-between shrink-0",children:[(0,t.jsxs)("h2",{className:"text-xl font-bold flex items-center gap-2",children:[(0,t.jsx)(m,{className:"h-5 w-5 text-primary"}),"Edit Asset"]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)(i.Button,{type:"button",variant:"outline",size:"sm",className:"gap-2 bg-transparent",onClick:()=>en(!ei),children:[(0,t.jsx)(A.Smile,{className:"h-4 w-4"}),"Emoji"]}),ei&&(0,t.jsx)("div",{className:"absolute right-0 top-full mt-2 p-3 bg-background border border-border rounded-xl shadow-lg z-50 w-72",children:(0,t.jsx)("div",{className:"grid grid-cols-10 gap-1",children:F.map(e=>(0,t.jsx)("button",{type:"button",className:"p-1.5 hover:bg-secondary rounded-lg text-lg",onClick:()=>{let t;return t="basic"===er?"description":er,void(et(s=>({...s,[t]:(s[t]||"")+e})),en(!1))},children:e},e))})})]})]}),(0,t.jsx)("div",{className:"flex border-b border-border/50 shrink-0",children:[{id:"basic",label:"Basic Info",icon:I.Settings},{id:"description",label:"Description",icon:L.FileText},{id:"features",label:"Features",icon:B},{id:"installation",label:"Installation",icon:T.Sparkles},{id:"changelog",label:"Changelog",icon:E.History}].map(e=>(0,t.jsxs)("button",{onClick:()=>el(e.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium transition-colors ${er===e.id?"text-primary border-b-2 border-primary bg-primary/5":"text-muted-foreground hover:text-foreground"}`,children:[(0,t.jsx)(e.icon,{className:"h-4 w-4"}),e.label]},e.id))}),(0,t.jsxs)("div",{className:"p-6 overflow-y-auto flex-1",children:["basic"===er&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm text-muted-foreground mb-1 block",children:"Title"}),(0,t.jsx)(n.Input,{value:ee.title||"",onChange:e=>et({...ee,title:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm text-muted-foreground mb-1 block",children:"Version"}),(0,t.jsx)(n.Input,{value:ee.version||"1.0.0",onChange:e=>et({...ee,version:e.target.value}),placeholder:"1.0.0"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm text-muted-foreground mb-1 block",children:"Category"}),(0,t.jsxs)("select",{className:"w-full h-10 px-3 rounded-md border bg-background",value:ee.category||"scripts",onChange:e=>et({...ee,category:e.target.value}),children:[(0,t.jsx)("option",{value:"scripts",children:"Scripts"}),(0,t.jsx)("option",{value:"mlo",children:"MLO"}),(0,t.jsx)("option",{value:"vehicles",children:"Vehicles"}),(0,t.jsx)("option",{value:"clothing",children:"Clothing"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm text-muted-foreground mb-1 block",children:"Framework"}),(0,t.jsxs)("select",{className:"w-full h-10 px-3 rounded-md border bg-background",value:ee.framework||"standalone",onChange:e=>et({...ee,framework:e.target.value}),children:[(0,t.jsx)("option",{value:"standalone",children:"Standalone"}),(0,t.jsx)("option",{value:"esx",children:"ESX"}),(0,t.jsx)("option",{value:"qbcore",children:"QBCore"}),(0,t.jsx)("option",{value:"vrp",children:"vRP"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm text-muted-foreground mb-1 block",children:"Price (Coins)"}),(0,t.jsx)(n.Input,{type:"number",value:ee.coin_price||0,onChange:e=>et({...ee,coin_price:Number.parseInt(e.target.value)||0}),min:0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm text-muted-foreground mb-1 block",children:"Status"}),(0,t.jsxs)("select",{className:"w-full h-10 px-3 rounded-md border bg-background",value:ee.status||"pending",onChange:e=>et({...ee,status:e.target.value}),children:[(0,t.jsx)("option",{value:"active",children:"Active"}),(0,t.jsx)("option",{value:"pending",children:"Pending"}),(0,t.jsx)("option",{value:"rejected",children:"Rejected"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"text-sm text-muted-foreground mb-1 block flex items-center gap-2",children:[(0,t.jsx)(C.ImageIcon,{className:"h-4 w-4"}),"Thumbnail URL"]}),(0,t.jsx)(n.Input,{value:ee.thumbnail||"",onChange:e=>et({...ee,thumbnail:e.target.value}),placeholder:"https://..."}),ee.thumbnail&&(0,t.jsx)("div",{className:"mt-2 relative w-40 h-24 rounded-lg overflow-hidden",children:(0,t.jsx)(q.default,{src:ee.thumbnail||"/placeholder.svg",alt:"Preview",fill:!0,className:"object-cover",unoptimized:!0})})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"text-sm text-muted-foreground mb-1 block flex items-center gap-2",children:[(0,t.jsx)(S.LinkIcon,{className:"h-4 w-4"}),"Download Link"]}),(0,t.jsx)(n.Input,{value:ee.download_link||"",onChange:e=>et({...ee,download_link:e.target.value}),placeholder:"https://..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"text-sm text-muted-foreground mb-1 block flex items-center gap-2",children:[(0,t.jsx)(M.Tag,{className:"h-4 w-4"}),"Tags (comma separated)"]}),(0,t.jsx)(n.Input,{value:(ee.tags||[]).join(", "),onChange:e=>et({...ee,tags:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}),placeholder:"esx, qbcore, free, premium"})]})]}),"description"===er&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Main description of the asset. Supports emoji and markdown formatting."}),(0,t.jsx)(d.Textarea,{value:ee.description||"",onChange:e=>et({...ee,description:e.target.value}),rows:12,className:"font-mono text-sm",placeholder:"ðŸ”¥ **Amazing Script**  This script provides...  ## Features - Feature 1 - Feature 2"})]}),"features"===er&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"List the key features of this asset. Use bullet points for better readability."}),(0,t.jsx)(d.Textarea,{value:ee.features||"",onChange:e=>et({...ee,features:e.target.value}),rows:12,className:"font-mono text-sm",placeholder:"âœ… Feature 1 - Description âœ… Feature 2 - Description âœ… Feature 3 - Description"})]}),"installation"===er&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Installation instructions. Use code blocks for commands."}),(0,t.jsx)(d.Textarea,{value:ee.installation||"",onChange:e=>et({...ee,installation:e.target.value}),rows:12,className:"font-mono text-sm",placeholder:"## Installation  1. Download the resource 2. Extract to your resources folder 3. Add to server.cfg:  \\`\\`\\`cfg ensure my-script \\`\\`\\`"})]}),"changelog"===er&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Version history and changes."}),(0,t.jsx)(d.Textarea,{value:ee.changelog||"",onChange:e=>et({...ee,changelog:e.target.value}),rows:12,className:"font-mono text-sm",placeholder:"## v1.0.0 (Initial Release) - Initial release - Added basic features  ## v1.1.0 - Bug fixes - New feature X"})]})]}),(0,t.jsxs)("div",{className:"p-4 border-t border-border/50 flex gap-2 shrink-0",children:[(0,t.jsxs)(i.Button,{onClick:eo,disabled:es,className:"gap-2",children:[es?(0,t.jsx)(y.Loader2,{className:"h-4 w-4 animate-spin"}):(0,t.jsx)(N.Save,{className:"h-4 w-4"}),"Save Changes"]}),(0,t.jsx)(i.Button,{variant:"outline",onClick:()=>Y(null),children:"Cancel"}),(0,t.jsx)("div",{className:"flex-1"}),(0,t.jsx)(P.default,{href:`/asset/${G.id}`,target:"_blank",children:(0,t.jsxs)(i.Button,{variant:"ghost",className:"gap-2",children:[(0,t.jsx)(H.ExternalLink,{className:"h-4 w-4"}),"Preview"]})})]})]})})]})]})]}):null}e.s(["default",()=>R],30754)}]);