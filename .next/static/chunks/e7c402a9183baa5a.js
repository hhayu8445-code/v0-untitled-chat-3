(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,86500,e=>{"use strict";var s=e.i(34355),a=e.i(84025),r=e.i(13993),t=e.i(84175),l=e.i(82244),i=e.i(38589),n=e.i(52353),o=e.i(83508),d=e.i(23600),c=e.i(14221),m=e.i(55161),u=e.i(449),x="Avatar",[h,p]=(0,d.createContextScope)(x),[g,j]=h(x),f=a.forwardRef((e,r)=>{let{__scopeAvatar:t,...l}=e,[i,n]=a.useState("idle");return(0,s.jsx)(g,{scope:t,imageLoadingStatus:i,onImageLoadingStatusChange:n,children:(0,s.jsx)(u.Primitive.span,{...l,ref:r})})});f.displayName=x;var b="AvatarImage",v=a.forwardRef((e,r)=>{let{__scopeAvatar:t,src:l,onLoadingStatusChange:i=()=>{},...n}=e,o=j(b,t),d=function(e,s){let[r,t]=a.useState("idle");return(0,m.useLayoutEffect)(()=>{if(!e)return void t("error");let a=!0,r=new window.Image,l=e=>()=>{a&&t(e)};return t("loading"),r.onload=l("loaded"),r.onerror=l("error"),r.src=e,s&&(r.referrerPolicy=s),()=>{a=!1}},[e,s]),r}(l,n.referrerPolicy),x=(0,c.useCallbackRef)(e=>{i(e),o.onImageLoadingStatusChange(e)});return(0,m.useLayoutEffect)(()=>{"idle"!==d&&x(d)},[d,x]),"loaded"===d?(0,s.jsx)(u.Primitive.img,{...n,ref:r,src:l}):null});v.displayName=b;var N="AvatarFallback",w=a.forwardRef((e,r)=>{let{__scopeAvatar:t,delayMs:l,...i}=e,n=j(N,t),[o,d]=a.useState(void 0===l);return a.useEffect(()=>{if(void 0!==l){let e=window.setTimeout(()=>d(!0),l);return()=>window.clearTimeout(e)}},[l]),o&&"loaded"!==n.imageLoadingStatus?(0,s.jsx)(u.Primitive.span,{...i,ref:r}):null});w.displayName=N;var y=e.i(49094);function C({className:e,...a}){return(0,s.jsx)(f,{"data-slot":"avatar",className:(0,y.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...a})}function k({className:e,...a}){return(0,s.jsx)(v,{"data-slot":"avatar-image",className:(0,y.cn)("aspect-square size-full",e),...a})}function S({className:e,...a}){return(0,s.jsx)(w,{"data-slot":"avatar-fallback",className:(0,y.cn)("bg-muted flex size-full items-center justify-center rounded-full",e),...a})}var T=e.i(49046),D=e.i(25524),R=e.i(52385),F=e.i(48574),P=e.i(46600),L=e.i(27272),A=e.i(47450),E=e.i(95723),I=e.i(11317);let B=(0,I.default)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);var $=e.i(67688),z=e.i(99951),M=e.i(87533),_=e.i(86834),O=e.i(51950),H=e.i(80905),U=e.i(30042),Y=e.i(17786),G=e.i(7938);let V=(0,I.default)("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);var q=e.i(72986),W=e.i(22687),J=e.i(98152),K=e.i(88924),X=e.i(21057),Z=e.i(43761),Q=e.i(36421),ee=e.i(48066),es=e.i(52400),ea=e.i(42242),er=e.i(24167),et=e.i(41659),el=e.i(26047),ei=e.i(43578);function en({assetId:e,price:r,coinPrice:t=0,downloadLink:l,className:n}){let{user:o,refreshSession:d}=(0,ee.useAuth)(),[c,m]=(0,a.useState)(!1),[u,x]=(0,a.useState)(!1),[h,p]=(0,a.useState)(""),[g,j]=(0,a.useState)(!1),[f,b]=(0,a.useState)(!0),v="free"===r||0===t;(0,a.useEffect)(()=>{(async()=>{if(!o)return b(!1);try{let s=await fetch(`/api/assets/${e}/check-purchase`),a=await s.json();j(a.purchased)}catch(e){console.error("Failed to check purchase status")}finally{b(!1)}})()},[e,o]);let N=async()=>{o?v||g?await w():(o?.coins||0)<t?ei.toast.error("Insufficient Coins",{description:`You need ${t} coins but only have ${o?.coins||0} coins. Get more coins from daily rewards!`,duration:5e3,action:{label:"Get Coins",onClick:()=>window.location.href="/dashboard"}}):m(!0):ei.toast.error("Please login to download",{description:"You need to be logged in to download assets"})},w=async()=>{x(!0),p("");try{let s=await fetch(`/api/download/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:o?.id})}),a=await s.json();if(!s.ok){if("Insufficient coins"===a.error){ei.toast.error("Insufficient Coins",{description:`You need ${a.required} coins but only have ${a.available} coins`,duration:5e3}),m(!1);return}p(a.error||"Download failed");return}(a.coinsSpent||0)>0?(await d(),ei.toast.success("Purchase Successful!",{description:`You spent ${a.coinsSpent} coins. Download starting...`}),j(!0)):"Already purchased"===a.message?ei.toast.info("Re-downloading",{description:"You already own this asset. Download starting..."}):ei.toast.success("Download Starting",{description:"Your download will begin shortly"}),window.open(a.downloadUrl,"_blank"),m(!1)}catch(e){ei.toast.error("Download Failed",{description:"Something went wrong. Please try again."}),p("Download failed. Please try again.")}finally{x(!1)}};if(f)return(0,s.jsxs)(i.Button,{disabled:!0,className:(0,y.cn)("w-full rounded-xl h-12 text-base",n),children:[(0,s.jsx)(ea.Loader2,{className:"h-5 w-5 animate-spin mr-2"}),"Checking..."]});let C=!v&&!g&&(o?.coins||0)<t;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Button,{onClick:N,disabled:u,className:(0,y.cn)("w-full gap-2 rounded-xl h-12 text-base transition-all",g?"bg-success hover:bg-success/90 text-white":C?"bg-destructive/20 hover:bg-destructive/30 text-destructive border border-destructive/50":"bg-primary hover:bg-primary/90 glow-sm",n),size:"lg",children:u?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ea.Loader2,{className:"h-5 w-5 animate-spin"}),"Downloading..."]}):g?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(es.CheckCircle,{className:"h-5 w-5"}),"Download Again (Owned)"]}):v?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(R.Download,{className:"h-5 w-5"}),"Download Free"]}):C?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(er.XCircle,{className:"h-5 w-5"}),(0,s.jsxs)("span",{className:"flex items-center gap-1",children:["Need ",(0,s.jsx)(el.CoinIcon,{size:"sm"})," ",t," (You: ",o?.coins||0,")"]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(et.Sparkles,{className:"h-5 w-5"}),(0,s.jsxs)("span",{className:"flex items-center gap-1",children:["Purchase ",(0,s.jsx)(el.CoinIcon,{size:"sm"})," ",t]})]})}),(0,s.jsx)(Q.Dialog,{open:c,onOpenChange:m,children:(0,s.jsx)(Q.DialogContent,{className:"max-w-md glass border-2 border-primary/30",children:(0,s.jsx)("div",{className:"p-6 space-y-4",children:h?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(H.AlertTriangle,{className:"h-16 w-16 text-destructive mx-auto mb-4"}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Error"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:h})]}),(0,s.jsx)(i.Button,{onClick:()=>m(!1),variant:"outline",className:"w-full rounded-xl",children:"Close"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"h-16 w-16 rounded-2xl bg-warning/20 flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(el.CoinIcon,{size:"lg"})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Confirm Purchase"}),(0,s.jsxs)("p",{className:"text-muted-foreground mb-4 flex items-center justify-center gap-1",children:["This asset costs ",(0,s.jsx)(el.CoinIcon,{size:"sm"})," ",t," coins"]}),(0,s.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Your Balance:"}),(0,s.jsxs)("span",{className:"text-lg font-bold text-foreground flex items-center gap-1",children:[(0,s.jsx)(el.CoinIcon,{size:"sm"}),o?.coins||0]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Cost:"}),(0,s.jsxs)("span",{className:"text-lg font-bold text-destructive flex items-center gap-1",children:["-",(0,s.jsx)(el.CoinIcon,{size:"sm"})," ",t]})]}),(0,s.jsx)("div",{className:"border-t border-border/50 pt-2 mt-2",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"font-medium text-foreground",children:"After Purchase:"}),(0,s.jsxs)("span",{className:`text-lg font-bold flex items-center gap-1 ${(o?.coins||0)-t>=0?"text-success":"text-destructive"}`,children:[(0,s.jsx)(el.CoinIcon,{size:"sm"})," ",(o?.coins||0)-t]})]})})]}),(o?.coins||0)-t<50&&(o?.coins||0)-t>=0&&(0,s.jsxs)("p",{className:"text-xs text-warning mt-3 flex items-center justify-center gap-1",children:[(0,s.jsx)(H.AlertTriangle,{className:"h-3 w-3"}),"Your balance will be low after this purchase"]})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)(i.Button,{onClick:()=>m(!1),variant:"outline",className:"flex-1 rounded-xl bg-transparent",children:"Cancel"}),(0,s.jsx)(i.Button,{onClick:w,disabled:u||(o?.coins||0)<t,className:"flex-1 bg-primary hover:bg-primary/90 rounded-xl",children:u?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ea.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(es.CheckCircle,{className:"h-4 w-4 mr-2"}),"Confirm Purchase"]})})]})]})})})})]})}var eo=e.i(96021);function ed({assetId:e,onReviewSubmitted:r}){let{user:t}=(0,ee.useAuth)(),[l,n]=(0,a.useState)(0),[o,d]=(0,a.useState)(0),[c,m]=(0,a.useState)(""),[u,x]=(0,a.useState)(!1),h=async()=>{if(!t)return void ei.toast.error("Please login to submit a review");if(0===l)return void ei.toast.error("Please select a rating");if(c.trim().length<10)return void ei.toast.error("Review must be at least 10 characters");x(!0);try{let s=await fetch(`/api/assets/${e}/reviews`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rating:l,content:c.trim()})}),a=await s.json();if(!s.ok)throw Error(a.error||"Failed to submit review");ei.toast.success("Review submitted successfully!"),n(0),m(""),r?.()}catch(e){ei.toast.error(e.message||"Failed to submit review")}finally{x(!1)}};return t?(0,s.jsxs)("div",{className:"glass rounded-xl p-6 space-y-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-foreground",children:"Write a Review"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Your Rating"}),(0,s.jsxs)("div",{className:"flex gap-1",children:[[1,2,3,4,5].map(e=>(0,s.jsx)("button",{type:"button",onClick:()=>n(e),onMouseEnter:()=>d(e),onMouseLeave:()=>d(0),className:"p-1 transition-transform hover:scale-110",children:(0,s.jsx)(F.Star,{className:(0,y.cn)("h-6 w-6 transition-colors",(o||l)>=e?"text-amber-400 fill-amber-400":"text-muted-foreground")})},e)),l>0&&(0,s.jsxs)("span",{className:"ml-2 text-sm text-muted-foreground",children:[1===l&&"Poor",2===l&&"Fair",3===l&&"Good",4===l&&"Very Good",5===l&&"Excellent"]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Your Review"}),(0,s.jsx)(eo.Textarea,{placeholder:"Share your experience with this asset...",value:c,onChange:e=>m(e.target.value),className:"min-h-[100px] bg-secondary/50 border-border"}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground text-right",children:[c.length,"/500 characters"]})]}),(0,s.jsxs)(i.Button,{onClick:h,disabled:u||0===l||c.trim().length<10,className:"w-full",children:[u?(0,s.jsx)(ea.Loader2,{className:"h-4 w-4 animate-spin mr-2"}):null,"Submit Review"]})]}):(0,s.jsx)("div",{className:"glass rounded-xl p-6 text-center",children:(0,s.jsx)("p",{className:"text-muted-foreground",children:"Please login to leave a review"})})}var ec=e.i(49918),em=e.i(42180),eu=e.i(79788),ex=e.i(99222),eh=e.i(22334),ep=e.i(64052),eg=e.i(8700),ej=e.i(9751),ef=e.i(74291),eb="Radio",[ev,eN]=(0,d.createContextScope)(eb),[ew,ey]=ev(eb),eC=a.forwardRef((e,r)=>{let{__scopeRadio:t,name:l,checked:i=!1,required:n,disabled:o,value:d="on",onCheck:c,form:m,...x}=e,[h,p]=a.useState(null),g=(0,eu.useComposedRefs)(r,e=>p(e)),j=a.useRef(!1),f=!h||m||!!h.closest("form");return(0,s.jsxs)(ew,{scope:t,checked:i,disabled:o,children:[(0,s.jsx)(u.Primitive.button,{type:"button",role:"radio","aria-checked":i,"data-state":eD(i),"data-disabled":o?"":void 0,disabled:o,value:d,...x,ref:g,onClick:(0,em.composeEventHandlers)(e.onClick,e=>{i||c?.(),f&&(j.current=e.isPropagationStopped(),j.current||e.stopPropagation())})}),f&&(0,s.jsx)(eT,{control:h,bubbles:!j.current,name:l,value:d,checked:i,required:n,disabled:o,form:m,style:{transform:"translateX(-100%)"}})]})});eC.displayName=eb;var ek="RadioIndicator",eS=a.forwardRef((e,a)=>{let{__scopeRadio:r,forceMount:t,...l}=e,i=ey(ek,r);return(0,s.jsx)(ef.Presence,{present:t||i.checked,children:(0,s.jsx)(u.Primitive.span,{"data-state":eD(i.checked),"data-disabled":i.disabled?"":void 0,...l,ref:a})})});eS.displayName=ek;var eT=e=>{let{control:r,checked:t,bubbles:l=!0,...i}=e,n=a.useRef(null),o=(0,ej.usePrevious)(t),d=(0,eg.useSize)(r);return a.useEffect(()=>{let e=n.current,s=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==t&&s){let a=new Event("click",{bubbles:l});s.call(e,t),e.dispatchEvent(a)}},[o,t,l]),(0,s.jsx)("input",{type:"radio","aria-hidden":!0,defaultChecked:t,...i,tabIndex:-1,ref:n,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function eD(e){return e?"checked":"unchecked"}var eR=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],eF="RadioGroup",[eP,eL]=(0,d.createContextScope)(eF,[ex.createRovingFocusGroupScope,eN]),eA=(0,ex.createRovingFocusGroupScope)(),eE=eN(),[eI,eB]=eP(eF),e$=a.forwardRef((e,a)=>{let{__scopeRadioGroup:r,name:t,defaultValue:l,value:i,required:n=!1,disabled:o=!1,orientation:d,dir:c,loop:m=!0,onValueChange:x,...h}=e,p=eA(r),g=(0,ep.useDirection)(c),[j,f]=(0,eh.useControllableState)({prop:i,defaultProp:l,onChange:x});return(0,s.jsx)(eI,{scope:r,name:t,required:n,disabled:o,value:j,onValueChange:f,children:(0,s.jsx)(ex.Root,{asChild:!0,...p,orientation:d,dir:g,loop:m,children:(0,s.jsx)(u.Primitive.div,{role:"radiogroup","aria-required":n,"aria-orientation":d,"data-disabled":o?"":void 0,dir:g,...h,ref:a})})})});e$.displayName=eF;var ez="RadioGroupItem",eM=a.forwardRef((e,r)=>{let{__scopeRadioGroup:t,disabled:l,...i}=e,n=eB(ez,t),o=n.disabled||l,d=eA(t),c=eE(t),m=a.useRef(null),u=(0,eu.useComposedRefs)(r,m),x=n.value===i.value,h=a.useRef(!1);return a.useEffect(()=>{let e=e=>{eR.includes(e.key)&&(h.current=!0)},s=()=>h.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",s),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",s)}},[]),(0,s.jsx)(ex.Item,{asChild:!0,...d,focusable:!o,active:x,children:(0,s.jsx)(eC,{disabled:o,required:n.required,checked:x,...c,...i,name:n.name,ref:u,onCheck:()=>n.onValueChange(i.value),onKeyDown:(0,em.composeEventHandlers)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,em.composeEventHandlers)(i.onFocus,()=>{h.current&&m.current?.click()})})})});eM.displayName=ez;var e_=a.forwardRef((e,a)=>{let{__scopeRadioGroup:r,...t}=e,l=eE(r);return(0,s.jsx)(eS,{...l,...t,ref:a})});e_.displayName="RadioGroupIndicator";var eO=e.i(27198);function eH({className:e,...a}){return(0,s.jsx)(e$,{"data-slot":"radio-group",className:(0,y.cn)("grid gap-3",e),...a})}function eU({className:e,...a}){return(0,s.jsx)(eM,{"data-slot":"radio-group-item",className:(0,y.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...a,children:(0,s.jsx)(e_,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,s.jsx)(eO.CircleIcon,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}let eY=[{value:"spam",label:"Spam or misleading"},{value:"inappropriate",label:"Inappropriate content"},{value:"copyright",label:"Copyright violation"},{value:"malware",label:"Malware or malicious content"},{value:"harassment",label:"Harassment or bullying"},{value:"other",label:"Other"}];function eG({open:e,onOpenChange:r,contentType:t,contentId:l,type:n,targetId:o,trigger:d}){let{user:c}=(0,ee.useAuth)(),[m,u]=(0,a.useState)(!1),[x,h]=(0,a.useState)(""),[p,g]=(0,a.useState)(""),[j,f]=(0,a.useState)(!1),b=void 0!==e,v=b?e:m,N=b?r:u,w=t||n||"asset",y=l||o||"";(0,a.useEffect)(()=>{v||(h(""),g(""))},[v]);let C=async()=>{if(!x)return void ei.toast.error("Please select a reason");if(!c)return void ei.toast.error("Please login to submit a report");f(!0);try{let e=await fetch("/api/reports",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:w,targetId:y,reason:x,description:p.trim()||void 0})}),s=await e.json();if(!e.ok)throw Error(s.error||"Failed to submit report");ei.toast.success("Report submitted successfully"),N(!1)}catch(e){ei.toast.error(e.message||"Failed to submit report")}finally{f(!1)}};return b?(0,s.jsx)(Q.Dialog,{open:v,onOpenChange:N,children:(0,s.jsxs)(Q.DialogContent,{className:"sm:max-w-md glass",children:[(0,s.jsxs)(Q.DialogHeader,{children:[(0,s.jsxs)(Q.DialogTitle,{className:"text-foreground",children:["Report ",w]}),(0,s.jsx)(Q.DialogDescription,{children:"Help us understand what's wrong. Reports are reviewed by our moderation team."})]}),(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(ec.Label,{className:"text-foreground",children:"Reason for reporting"}),(0,s.jsx)(eH,{value:x,onValueChange:h,children:eY.map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(eU,{value:e.value,id:`controlled-${e.value}`}),(0,s.jsx)(ec.Label,{htmlFor:`controlled-${e.value}`,className:"text-sm text-foreground cursor-pointer",children:e.label})]},e.value))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ec.Label,{htmlFor:"controlled-description",className:"text-foreground",children:"Additional details (optional)"}),(0,s.jsx)(eo.Textarea,{id:"controlled-description",placeholder:"Provide more context about your report...",value:p,onChange:e=>g(e.target.value),className:"min-h-[100px] bg-secondary/50 border-border"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,s.jsx)(i.Button,{variant:"ghost",onClick:()=>N(!1),children:"Cancel"}),(0,s.jsxs)(i.Button,{onClick:C,disabled:j,className:"bg-destructive hover:bg-destructive/90",children:[j?(0,s.jsx)(ea.Loader2,{className:"h-4 w-4 animate-spin mr-2"}):null,"Submit Report"]})]})]})}):(0,s.jsxs)(Q.Dialog,{open:v,onOpenChange:N,children:[(0,s.jsx)(Q.DialogTrigger,{asChild:!0,children:d||(0,s.jsxs)(i.Button,{variant:"ghost",size:"sm",className:"gap-2 text-muted-foreground hover:text-destructive",children:[(0,s.jsx)(U.Flag,{className:"h-4 w-4"}),"Report"]})}),(0,s.jsxs)(Q.DialogContent,{className:"sm:max-w-md glass",children:[(0,s.jsxs)(Q.DialogHeader,{children:[(0,s.jsxs)(Q.DialogTitle,{className:"text-foreground",children:["Report ",w]}),(0,s.jsx)(Q.DialogDescription,{children:"Help us understand what's wrong. Reports are reviewed by our moderation team."})]}),(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(ec.Label,{className:"text-foreground",children:"Reason for reporting"}),(0,s.jsx)(eH,{value:x,onValueChange:h,children:eY.map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(eU,{value:e.value,id:e.value}),(0,s.jsx)(ec.Label,{htmlFor:e.value,className:"text-sm text-foreground cursor-pointer",children:e.label})]},e.value))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ec.Label,{htmlFor:"description",className:"text-foreground",children:"Additional details (optional)"}),(0,s.jsx)(eo.Textarea,{id:"description",placeholder:"Provide more context about your report...",value:p,onChange:e=>g(e.target.value),className:"min-h-[100px] bg-secondary/50 border-border"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,s.jsx)(i.Button,{variant:"ghost",onClick:()=>N(!1),children:"Cancel"}),(0,s.jsxs)(i.Button,{onClick:C,disabled:j,className:"bg-destructive hover:bg-destructive/90",children:[j?(0,s.jsx)(ea.Loader2,{className:"h-4 w-4 animate-spin mr-2"}):null,"Submit Report"]})]})]})]})}var eV=e.i(3339),eq=e.i(53746);function eW({content:e,title:a}){if(!e)return(0,s.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,s.jsx)(L.FileText,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),(0,s.jsxs)("p",{children:["No ",a?.toLowerCase()||"content"," available."]})]});let r=(!e?"":e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&nbsp;/g," ").replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/").replace(/\s+/g," ").trim()).split(/\n+/).filter(e=>e.trim()),t=new Set,l=r.filter(e=>{let s=e.toLowerCase().trim();return!t.has(s)&&(t.add(s),!0)});return(0,s.jsx)("div",{className:"space-y-1",children:l.map((e,a)=>((e,a)=>{let r=e.trim();if(r.endsWith(":")||r.startsWith("#")){let e=r.replace(/^#+\s*/,"").replace(/:$/,"");return(0,s.jsx)("div",{className:"mt-4 first:mt-0",children:(0,s.jsxs)("h4",{className:"text-lg font-semibold text-foreground flex items-center gap-2 mb-2",children:[(0,s.jsx)("div",{className:"h-1.5 w-1.5 rounded-full bg-primary"}),e]})},a)}if(r.match(/^[-•*]\s/)){let e=r.replace(/^[-•*]\s+/,"");return(0,s.jsxs)("div",{className:"flex items-start gap-3 py-1.5",children:[(0,s.jsx)("div",{className:"h-1.5 w-1.5 rounded-full bg-primary/60 mt-2 shrink-0"}),(0,s.jsx)("span",{className:"text-foreground/80",children:e})]},a)}if(r.match(/^\d+[.)]\s/)){let e=r.match(/^(\d+)[.)]\s*(.*)/);if(e)return(0,s.jsxs)("div",{className:"flex items-start gap-3 py-1.5",children:[(0,s.jsxs)("span",{className:"text-primary font-medium min-w-[24px]",children:[e[1],"."]}),(0,s.jsx)("span",{className:"text-foreground/80",children:e[2]})]},a)}return(0,s.jsx)("p",{className:"text-foreground/80 leading-relaxed py-1",children:r},a)})(e,a))})}function eJ(){let e=(0,r.useParams)(),d=(0,r.useRouter)(),{user:c}=(0,ee.useAuth)(),[m,u]=(0,a.useState)(null),[x,h]=(0,a.useState)(!0),[p,g]=(0,a.useState)(null),[j,f]=(0,a.useState)("description"),[b,v]=(0,a.useState)([]),[N,w]=(0,a.useState)(!1),[y,I]=(0,a.useState)(!1),[Q,es]=(0,a.useState)(!1),[ea,er]=(0,a.useState)(!1),[et,eo]=(0,a.useState)(0),ec=(0,a.useMemo)(()=>m?m.coinPrice??m.coin_price??0:0,[m]),em=(0,a.useMemo)(()=>0===ec?"free":"premium",[ec]),eu=(0,a.useMemo)(()=>m?[m.thumbnail,...m.images||[]].filter(Boolean):[],[m]),ex=(0,a.useMemo)(()=>{if(!m)return null;var e=m.youtube_link||m.youtubeLink||"";if(!e)return null;for(let s of[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\s?]+)/,/^([a-zA-Z0-9_-]{11})$/]){let a=e.match(s);if(a)return a[1]}return null},[m]),eh=c&&m&&c.id===m.author_id,ep=async()=>{if(m&&confirm("Are you sure you want to delete this asset? This action cannot be undone.")){I(!0);try{if(!(await fetch(`/api/assets/${m.id}`,{method:"DELETE"})).ok)throw Error("Failed to delete asset");ei.toast.success("Asset deleted successfully"),d.push("/assets")}catch(e){ei.toast.error(e.message||"Failed to delete asset")}finally{I(!1)}}},eg=async()=>{let e=window.location.href;try{await navigator.clipboard.writeText(e),ei.toast.success("Link copied to clipboard!")}catch{ei.toast.info(e)}};return((0,a.useEffect)(()=>{let s=async()=>{try{h(!0),g(null);let s=await fetch(`/api/assets/${e.id}`);if(!s.ok)throw Error("Asset not found");let a=await s.json();u(a)}catch(e){g(e.message||"Failed to load asset")}finally{h(!1)}};e.id&&s()},[e.id]),(0,a.useEffect)(()=>{(async()=>{if(m?.id&&"reviews"===j){w(!0);try{let e=await fetch(`/api/assets/${m.id}/reviews`);if(e.ok){let s=await e.json();v(s.reviews||[])}}catch(e){console.error("Failed to fetch reviews:",e)}finally{w(!1)}}})()},[m?.id,j]),x)?(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)(eV.Sidebar,{}),(0,s.jsxs)("main",{className:"md:ml-72 transition-all duration-300",children:[(0,s.jsx)(eq.Header,{}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)(T.Skeleton,{className:"h-[400px] w-full rounded-2xl mb-6"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,s.jsx)(T.Skeleton,{className:"h-12 w-full rounded-xl"}),(0,s.jsx)(T.Skeleton,{className:"h-64 w-full rounded-xl"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(T.Skeleton,{className:"h-48 w-full rounded-xl"}),(0,s.jsx)(T.Skeleton,{className:"h-32 w-full rounded-xl"})]})]})]})]})]}):p||!m?(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)(eV.Sidebar,{}),(0,s.jsxs)("main",{className:"md:ml-72 transition-all duration-300",children:[(0,s.jsx)(eq.Header,{}),(0,s.jsx)("div",{className:"p-6 flex items-center justify-center min-h-[60vh]",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(H.AlertTriangle,{className:"h-16 w-16 text-destructive mx-auto mb-4"}),(0,s.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Asset Not Found"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-4",children:p||"The asset you're looking for doesn't exist."}),(0,s.jsx)(i.Button,{onClick:()=>d.push("/assets"),children:"Browse Assets"})]})})]})]}):(0,s.jsxs)("div",{className:"flex min-h-screen bg-background",children:[(0,s.jsx)(eV.Sidebar,{}),(0,s.jsxs)("main",{className:"flex-1 ml-0 lg:ml-64",children:[(0,s.jsx)(eq.Header,{}),(0,s.jsx)(ei.Toaster,{position:"top-center",richColors:!0}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"relative rounded-2xl overflow-hidden border border-border/50 bg-card",children:[(0,s.jsxs)("div",{className:"aspect-video relative",children:[(0,s.jsx)(t.default,{src:m.thumbnail||"/placeholder.svg?height=720&width=1280&query=fivem asset",alt:m.title,fill:!0,className:"object-cover",priority:!0}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-background/50 to-transparent"})]}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:(0,s.jsxs)("div",{className:"flex items-end justify-between gap-4",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,s.jsx)(n.Badge,{className:"bg-primary/20 text-primary border border-primary/30",children:m.category}),m.framework&&(0,s.jsx)(n.Badge,{variant:"secondary",children:m.framework}),m.is_verified&&(0,s.jsxs)(n.Badge,{className:"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30",children:[(0,s.jsx)(P.Shield,{className:"h-3 w-3 mr-1"})," Verified"]})]}),(0,s.jsx)("h1",{className:"text-2xl md:text-4xl font-bold text-white",children:m.title}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-white/80 flex-wrap",children:[(0,s.jsxs)(l.default,{href:`/profile/${m.author_id}`,className:"flex items-center gap-2 hover:text-white transition-colors",children:[(0,s.jsxs)(C,{className:"h-6 w-6 border border-white/20",children:[(0,s.jsx)(k,{src:m.authorAvatar||"/placeholder.svg"}),(0,s.jsx)(S,{children:m.author?.[0]?.toUpperCase()||"U"})]}),(0,s.jsx)("span",{className:"text-sm font-medium",children:m.author})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(F.Star,{className:"h-4 w-4 text-amber-400 fill-amber-400"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:m.rating?.toFixed(1)||"5.0"}),(0,s.jsxs)("span",{className:"text-sm text-white/50",children:["(",m.rating_count||0,")"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(R.Download,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"text-sm",children:(m.downloads||0).toLocaleString()})]})]})]}),(0,s.jsxs)(D.DropdownMenu,{children:[(0,s.jsx)(D.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsx)(i.Button,{variant:"secondary",size:"icon",className:"rounded-full h-10 w-10 bg-white/10 hover:bg-white/20 border-0 shrink-0",children:(0,s.jsx)(W.MoreVertical,{className:"h-5 w-5 text-white"})})}),(0,s.jsxs)(D.DropdownMenuContent,{align:"end",className:"w-48",children:[eh&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(D.DropdownMenuItem,{asChild:!0,children:(0,s.jsxs)(l.default,{href:`/dashboard/edit-asset/${m.id}`,className:"cursor-pointer",children:[(0,s.jsx)(_.Edit,{className:"h-4 w-4 mr-2"})," Edit Asset"]})}),(0,s.jsxs)(D.DropdownMenuItem,{onClick:ep,className:"text-destructive cursor-pointer",disabled:y,children:[(0,s.jsx)(O.Trash2,{className:"h-4 w-4 mr-2"}),y?"Deleting...":"Delete Asset"]}),(0,s.jsx)(D.DropdownMenuSeparator,{})]}),c&&!eh&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(D.DropdownMenuItem,{onClick:()=>es(!0),className:"cursor-pointer",children:[(0,s.jsx)(U.Flag,{className:"h-4 w-4 mr-2"})," Report Asset"]}),(0,s.jsx)(D.DropdownMenuSeparator,{})]}),(0,s.jsxs)(D.DropdownMenuItem,{onClick:eg,className:"cursor-pointer",children:[(0,s.jsx)(Y.Share2,{className:"h-4 w-4 mr-2"})," Share Asset"]})]})]})]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mt-8",children:[(0,s.jsx)("div",{className:"lg:col-span-2 space-y-6",children:(0,s.jsxs)(o.Tabs,{value:j,onValueChange:f,className:"w-full",children:[(0,s.jsxs)(o.TabsList,{className:"w-full grid grid-cols-5 bg-card border border-border/50 p-1 rounded-xl",children:[(0,s.jsxs)(o.TabsTrigger,{value:"description",className:"gap-2 rounded-lg data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[(0,s.jsx)(L.FileText,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Description"})]}),(0,s.jsxs)(o.TabsTrigger,{value:"features",className:"gap-2 rounded-lg data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[(0,s.jsx)(A.Zap,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Features"})]}),(0,s.jsxs)(o.TabsTrigger,{value:"installation",className:"gap-2 rounded-lg data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[(0,s.jsx)(E.Settings,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Install"})]}),(0,s.jsxs)(o.TabsTrigger,{value:"changelog",className:"gap-2 rounded-lg data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[(0,s.jsx)(B,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Changelog"})]}),(0,s.jsxs)(o.TabsTrigger,{value:"reviews",className:"gap-2 rounded-lg data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[(0,s.jsx)(F.Star,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Reviews"})]})]}),(0,s.jsxs)(o.TabsContent,{value:"description",className:"mt-6 space-y-6",children:[(0,s.jsx)("div",{className:"rounded-2xl border border-border/50 bg-card p-6",children:(0,s.jsx)(eW,{content:m.description,title:"Description"})}),ex&&(0,s.jsxs)("div",{className:"rounded-2xl border border-border/50 bg-card p-6",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,s.jsx)(z.Youtube,{className:"h-5 w-5 text-red-500"}),"Preview Video"]}),(0,s.jsx)("div",{className:"aspect-video rounded-xl overflow-hidden",children:(0,s.jsx)("iframe",{src:`https://www.youtube.com/embed/${ex}`,title:"YouTube video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})})]}),eu.length>1&&(0,s.jsxs)("div",{className:"rounded-2xl border border-border/50 bg-card p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Gallery"}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:eu.map((e,a)=>(0,s.jsx)("button",{onClick:()=>{eo(a),er(!0)},className:"aspect-video rounded-xl overflow-hidden bg-secondary/50 hover:ring-2 hover:ring-primary transition-all",children:(0,s.jsx)(t.default,{src:e||"/placeholder.svg",alt:`Gallery ${a+1}`,width:400,height:225,className:"w-full h-full object-cover"})},a))})]})]}),(0,s.jsx)(o.TabsContent,{value:"features",className:"mt-6",children:(0,s.jsx)("div",{className:"rounded-2xl border border-border/50 bg-card p-6",children:(0,s.jsx)(eW,{content:m.features||"",title:"Features"})})}),(0,s.jsx)(o.TabsContent,{value:"installation",className:"mt-6",children:(0,s.jsx)("div",{className:"rounded-2xl border border-border/50 bg-card p-6",children:(0,s.jsx)(eW,{content:m.installation||"",title:"Installation"})})}),(0,s.jsx)(o.TabsContent,{value:"changelog",className:"mt-6",children:(0,s.jsx)("div",{className:"rounded-2xl border border-border/50 bg-card p-6",children:(0,s.jsx)(eW,{content:m.changelog||"",title:"Changelog"})})}),(0,s.jsxs)(o.TabsContent,{value:"reviews",className:"mt-6 space-y-6",children:[c&&!eh&&(0,s.jsxs)("div",{className:"rounded-2xl border border-border/50 bg-card p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Write a Review"}),(0,s.jsx)(ed,{assetId:m.id,onReviewSubmitted:()=>{m?.id&&fetch(`/api/assets/${m.id}/reviews`).then(e=>e.json()).then(e=>v(e.reviews||[])).catch(console.error)}})]}),(0,s.jsxs)("div",{className:"rounded-2xl border border-border/50 bg-card p-6",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold mb-4",children:["User Reviews (",b.length,")"]}),N?(0,s.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,s.jsx)(T.Skeleton,{className:"h-24 rounded-xl"},e))}):0===b.length?(0,s.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,s.jsx)(F.Star,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),(0,s.jsx)("p",{children:"No reviews yet. Be the first to review!"})]}):(0,s.jsx)("div",{className:"space-y-4",children:b.map(e=>(0,s.jsxs)("div",{className:"bg-muted/30 rounded-xl p-4 border border-border/50",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)(C,{className:"h-10 w-10",children:[(0,s.jsx)(k,{src:e.user?.avatar||"/placeholder.svg"}),(0,s.jsx)(S,{children:e.user?.username?.[0]?.toUpperCase()||"U"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:e.user?.username||"Anonymous"}),(0,s.jsx)("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(a=>(0,s.jsx)(F.Star,{className:`h-4 w-4 ${a<=e.rating?"text-amber-400 fill-amber-400":"text-muted-foreground"}`},a))})]})]}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleDateString()})]}),(0,s.jsx)("p",{className:"text-foreground/80",children:e.content})]},e.id))})]})]})]})}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"rounded-2xl border border-border/50 bg-card p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Price"}),0===ec?(0,s.jsx)(n.Badge,{className:"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30 text-lg px-3",children:"FREE"}):(0,s.jsxs)("div",{className:"flex items-center gap-1 text-xl font-bold text-primary",children:[(0,s.jsx)(el.CoinIcon,{className:"h-5 w-5"}),ec]})]}),(0,s.jsx)(en,{assetId:m.id,price:em,coinPrice:ec,downloadLink:m.download_url||m.downloadLink,className:"w-full h-12 text-lg"}),(0,s.jsxs)("div",{className:"mt-6 space-y-3 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between py-2 border-b border-border/50",children:[(0,s.jsxs)("span",{className:"text-muted-foreground flex items-center gap-2",children:[(0,s.jsx)(q.Package,{className:"h-4 w-4"})," Version"]}),(0,s.jsx)("span",{className:"font-medium",children:m.version||"1.0.0"})]}),(0,s.jsxs)("div",{className:"flex justify-between py-2 border-b border-border/50",children:[(0,s.jsxs)("span",{className:"text-muted-foreground flex items-center gap-2",children:[(0,s.jsx)(V,{className:"h-4 w-4"})," File Size"]}),(0,s.jsx)("span",{className:"font-medium",children:m.file_size||"Unknown"})]}),(0,s.jsxs)("div",{className:"flex justify-between py-2 border-b border-border/50",children:[(0,s.jsxs)("span",{className:"text-muted-foreground flex items-center gap-2",children:[(0,s.jsx)(R.Download,{className:"h-4 w-4"})," Downloads"]}),(0,s.jsx)("span",{className:"font-medium",children:(m.downloads||0).toLocaleString()})]}),(0,s.jsxs)("div",{className:"flex justify-between py-2",children:[(0,s.jsxs)("span",{className:"text-muted-foreground flex items-center gap-2",children:[(0,s.jsx)(G.Calendar,{className:"h-4 w-4"})," Updated"]}),(0,s.jsx)("span",{className:"font-medium",children:new Date(m.updated_at||m.created_at).toLocaleDateString()})]})]})]}),(m.docs_link||m.github_link)&&(0,s.jsxs)("div",{className:"rounded-2xl border border-border/50 bg-card p-6",children:[(0,s.jsx)("h3",{className:"font-semibold mb-4",children:"Resources"}),(0,s.jsxs)("div",{className:"space-y-2",children:[m.docs_link&&(0,s.jsx)(i.Button,{variant:"outline",className:"w-full justify-start bg-transparent",asChild:!0,children:(0,s.jsxs)("a",{href:m.docs_link,target:"_blank",rel:"noopener noreferrer",children:[(0,s.jsx)(L.FileText,{className:"h-4 w-4 mr-2"})," Documentation",(0,s.jsx)($.ExternalLink,{className:"h-3 w-3 ml-auto"})]})}),m.github_link&&(0,s.jsx)(i.Button,{variant:"outline",className:"w-full justify-start bg-transparent",asChild:!0,children:(0,s.jsxs)("a",{href:m.github_link,target:"_blank",rel:"noopener noreferrer",children:[(0,s.jsx)(M.Github,{className:"h-4 w-4 mr-2"})," Source Code",(0,s.jsx)($.ExternalLink,{className:"h-3 w-3 ml-auto"})]})})]})]}),m.tags&&m.tags.length>0&&(0,s.jsxs)("div",{className:"rounded-2xl border border-border/50 bg-card p-6",children:[(0,s.jsxs)("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[(0,s.jsx)(J.Tag,{className:"h-4 w-4"})," Tags"]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:m.tags.map((e,a)=>(0,s.jsx)(n.Badge,{variant:"secondary",className:"bg-secondary/50",children:e},a))})]}),(0,s.jsxs)("div",{className:"rounded-2xl border border-border/50 bg-card p-6",children:[(0,s.jsx)("h3",{className:"font-semibold mb-4",children:"Author"}),(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsxs)(C,{className:"h-12 w-12",children:[(0,s.jsx)(k,{src:m.authorAvatar||"/placeholder.svg"}),(0,s.jsx)(S,{children:m.author?.[0]?.toUpperCase()||"U"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:m.author}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:m.authorRole||"Member"})]})]}),(0,s.jsx)(i.Button,{variant:"outline",className:"w-full bg-transparent",asChild:!0,children:(0,s.jsx)(l.default,{href:`/profile/${m.author_id}`,children:"View Profile"})})]}),(0,s.jsx)("div",{className:"rounded-2xl border border-border/50 bg-card p-6",children:(0,s.jsxs)(i.Button,{variant:"outline",className:"w-full bg-transparent",onClick:eg,children:[(0,s.jsx)(Y.Share2,{className:"h-4 w-4 mr-2"})," Share Asset"]})})]})]})]}),ea&&eu.length>0&&(0,s.jsxs)("div",{className:"fixed inset-0 z-50 bg-background/95 flex items-center justify-center",children:[(0,s.jsx)("button",{onClick:()=>er(!1),className:"absolute top-4 right-4 h-10 w-10 rounded-full bg-secondary flex items-center justify-center hover:bg-secondary/80",children:(0,s.jsx)(K.X,{className:"h-5 w-5"})}),eu.length>1&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>eo(e=>(e-1+eu.length)%eu.length),className:"absolute left-4 h-10 w-10 rounded-full bg-secondary flex items-center justify-center hover:bg-secondary/80",children:(0,s.jsx)(X.ChevronLeft,{className:"h-5 w-5"})}),(0,s.jsx)("button",{onClick:()=>eo(e=>(e+1)%eu.length),className:"absolute right-4 h-10 w-10 rounded-full bg-secondary flex items-center justify-center hover:bg-secondary/80",children:(0,s.jsx)(Z.ChevronRight,{className:"h-5 w-5"})})]}),(0,s.jsxs)("div",{className:"max-w-5xl max-h-[90vh] p-4",children:[(0,s.jsx)(t.default,{src:eu[et]||"/placeholder.svg",alt:`Image ${et+1}`,width:1920,height:1080,className:"max-h-[85vh] w-auto object-contain rounded-xl"}),(0,s.jsxs)("p",{className:"text-center text-muted-foreground mt-2",children:[et+1," / ",eu.length]})]})]}),(0,s.jsx)(eG,{open:Q,onOpenChange:es,contentType:"asset",contentId:m.id})]})]})}e.s(["default",()=>eJ],86500)}]);