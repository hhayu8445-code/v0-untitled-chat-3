(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,46600,e=>{"use strict";let s=(0,e.i(11317).default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);e.s(["Shield",()=>s],46600)},61833,e=>{"use strict";var s=e.i(34355),t=e.i(49094);function r({className:e,type:r,...a}){return(0,s.jsx)("input",{type:r,"data-slot":"input",className:(0,t.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...a})}e.s(["Input",()=>r])},8700,e=>{"use strict";var s=e.i(84025),t=e.i(55161);function r(e){let[r,a]=s.useState(void 0);return(0,t.useLayoutEffect)(()=>{if(e){a({width:e.offsetWidth,height:e.offsetHeight});let s=new ResizeObserver(s=>{let t,r;if(!Array.isArray(s)||!s.length)return;let i=s[0];if("borderBoxSize"in i){let e=i.borderBoxSize,s=Array.isArray(e)?e[0]:e;t=s.inlineSize,r=s.blockSize}else t=e.offsetWidth,r=e.offsetHeight;a({width:t,height:r})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}a(void 0)},[e]),r}e.s(["useSize",()=>r])},42242,e=>{"use strict";let s=(0,e.i(11317).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>s],42242)},83106,e=>{"use strict";let s=(0,e.i(11317).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["default",()=>s])},52353,e=>{"use strict";var s=e.i(34355),t=e.i(97886),r=e.i(85866),a=e.i(49094);let i=(0,r.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function d({className:e,variant:r,asChild:d=!1,...n}){let l=d?t.Slot:"span";return(0,s.jsx)(l,{"data-slot":"badge",className:(0,a.cn)(i({variant:r}),e),...n})}e.s(["Badge",()=>d])},52385,e=>{"use strict";let s=(0,e.i(11317).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);e.s(["Download",()=>s],52385)},49437,e=>{"use strict";let s=(0,e.i(11317).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>s],49437)},37612,e=>{"use strict";let s=(0,e.i(11317).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>s],37612)},34521,e=>{"use strict";let s=(0,e.i(11317).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>s],34521)},34278,e=>{"use strict";var s=e.i(34355),t=e.i(3339),r=e.i(53746),a=e.i(38589),i=e.i(84025),d=e.i(37612),n=e.i(34521),l=e.i(11317);let o=(0,l.default)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);var c=e.i(70852),x=e.i(52385),m=e.i(8591),u=e.i(49437);let f=(0,l.default)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),h=(0,l.default)("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);var g=e.i(82244),b=e.i(13993),p=e.i(48066);function v(){let{isAdmin:e,isLoading:l}=(0,p.useAuth)(),v=(0,b.useRouter)(),[j,y]=(0,i.useState)(null),[N,w]=(0,i.useState)(!0);if((0,i.useEffect)(()=>{l||e||v.push("/")},[e,l,v]),(0,i.useEffect)(()=>{!async function(){try{let e=await fetch("/api/admin/analytics"),s=await e.json();y(s)}finally{w(!1)}}()},[]),l)return(0,s.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,s.jsx)("div",{className:"h-12 w-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})});if(!e)return null;let k=Math.max(...(j?.weeklyDownloads??[{downloads:1}]).map(e=>e.downloads||1));return(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)(t.Sidebar,{}),(0,s.jsxs)("main",{className:"md:ml-72 transition-all duration-300",children:[(0,s.jsx)(r.Header,{}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)(g.default,{href:"/admin",className:"inline-flex items-center gap-2 text-muted-foreground hover:text-foreground mb-6",children:[(0,s.jsx)(d.ArrowLeft,{className:"h-4 w-4"}),"Back to Admin"]}),(0,s.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Analytics Dashboard"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Track performance and monitor growth metrics."})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(a.Button,{variant:"outline",size:"sm",children:"Last 7 Days"}),(0,s.jsx)(a.Button,{variant:"ghost",size:"sm",children:"Last 30 Days"}),(0,s.jsx)(a.Button,{variant:"ghost",size:"sm",children:"All Time"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-4 mb-8",children:[(0,s.jsxs)("div",{className:"rounded-xl border border-border bg-card p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)(c.Users,{className:"h-5 w-5 text-primary"}),(0,s.jsxs)("div",{className:"flex items-center gap-1 text-xs text-success",children:[(0,s.jsx)(n.TrendingUp,{className:"h-3 w-3"}),"+12%"]})]}),(0,s.jsx)("p",{className:"text-3xl font-bold text-foreground",children:j?.overview?.totalUsers??0}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Users"})]}),(0,s.jsxs)("div",{className:"rounded-xl border border-border bg-card p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)(x.Download,{className:"h-5 w-5 text-success"}),(0,s.jsxs)("div",{className:"flex items-center gap-1 text-xs text-success",children:[(0,s.jsx)(n.TrendingUp,{className:"h-3 w-3"}),"+24%"]})]}),(0,s.jsx)("p",{className:"text-3xl font-bold text-foreground",children:(j?.overview?.totalDownloads??0).toLocaleString()}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Downloads"})]}),(0,s.jsxs)("div",{className:"rounded-xl border border-border bg-card p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)(u.Eye,{className:"h-5 w-5 text-accent"}),(0,s.jsxs)("div",{className:"flex items-center gap-1 text-xs text-success",children:[(0,s.jsx)(n.TrendingUp,{className:"h-3 w-3"}),"+18%"]})]}),(0,s.jsx)("p",{className:"text-3xl font-bold text-foreground",children:(j?.overview?.totalPosts??0).toLocaleString()}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Posts"})]}),(0,s.jsxs)("div",{className:"rounded-xl border border-border bg-card p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)(m.MessageSquare,{className:"h-5 w-5 text-warning"}),(0,s.jsxs)("div",{className:"flex items-center gap-1 text-xs text-destructive",children:[(0,s.jsx)(o,{className:"h-3 w-3"}),"-5%"]})]}),(0,s.jsx)("p",{className:"text-3xl font-bold text-foreground",children:j?.overview?.newUsersToday??0}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"New Users Today"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-6 mb-6",children:[(0,s.jsxs)("div",{className:"col-span-2 rounded-xl border border-border bg-card p-6",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,s.jsxs)("h2",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[(0,s.jsx)(f,{className:"h-5 w-5 text-primary"}),"Download Trends"]})}),(0,s.jsx)("div",{className:"flex items-end justify-between h-48 gap-2",children:(j?.weeklyDownloads??[]).map(e=>(0,s.jsxs)("div",{className:"flex-1 flex flex-col items-center gap-2",children:[(0,s.jsx)("div",{className:"w-full bg-primary/80 rounded-t-lg transition-all hover:bg-primary",style:{height:`${Math.max(1,e.downloads)/Math.max(1,k)*100}%`}}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:e.day})]},e.day))})]}),(0,s.jsxs)("div",{className:"rounded-xl border border-border bg-card p-6",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,s.jsxs)("h2",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[(0,s.jsx)(h,{className:"h-5 w-5 text-primary"}),"Categories"]})}),(0,s.jsx)("div",{className:"space-y-4",children:(j?.categoryStats??[]).map((e,t)=>(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,s.jsx)("span",{className:"text-sm text-foreground",children:e.name}),(0,s.jsxs)("span",{className:"text-sm text-muted-foreground",children:[e.percentage,"%"]})]}),(0,s.jsx)("div",{className:"h-2 rounded-full bg-secondary overflow-hidden",children:(0,s.jsx)("div",{className:`h-full rounded-full ${0===t?"bg-primary":1===t?"bg-success":2===t?"bg-accent":"bg-warning"}`,style:{width:`${e.percentage}%`}})})]},e.name))})]})]}),(0,s.jsxs)("div",{className:"rounded-xl border border-border bg-card p-6",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,s.jsxs)("h2",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[(0,s.jsx)(n.TrendingUp,{className:"h-5 w-5 text-primary"}),"Top Performing Assets"]})}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-border",children:[(0,s.jsx)("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Rank"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Asset Name"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Downloads"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Growth"})]})}),(0,s.jsx)("tbody",{children:(j?.topAssets??[]).map((e,t)=>(0,s.jsxs)("tr",{className:"border-b border-border last:border-0",children:[(0,s.jsx)("td",{className:"py-3 px-4",children:(0,s.jsx)("span",{className:`inline-flex h-6 w-6 items-center justify-center rounded-full text-xs font-bold ${0===t?"bg-warning/20 text-warning":1===t?"bg-muted-foreground/20 text-muted-foreground":2===t?"bg-amber-600/20 text-amber-600":"bg-secondary text-muted-foreground"}`,children:t+1})}),(0,s.jsx)("td",{className:"py-3 px-4 font-medium text-foreground",children:e.title}),(0,s.jsx)("td",{className:"py-3 px-4 text-muted-foreground",children:e.downloads.toLocaleString()}),(0,s.jsx)("td",{className:"py-3 px-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-1 text-success",children:[(0,s.jsx)(n.TrendingUp,{className:"h-4 w-4"}),"+",e.growth,"%"]})})]},e.title))})]})})]})]})]})]})}e.s(["default",()=>v],34278)}]);