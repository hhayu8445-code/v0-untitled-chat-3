{"version":3,"sources":["../../../../../../../Pictures/APPLICATION%20DECRYPT%20FULL%20NO%20FXAP/TOOLS%20WEBSITE/components/rich-text-editor.tsx","../../../../../../../Pictures/APPLICATION%20DECRYPT%20FULL%20NO%20FXAP/TOOLS%20WEBSITE/app/forum/new/page.tsx","../../../../../../../Pictures/APPLICATION%20DECRYPT%20FULL%20NO%20FXAP/TOOLS%20WEBSITE/node_modules/lucide-react/src/icons/pilcrow.ts"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { useState, useRef, useCallback } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport {\n  Bold,\n  Italic,\n  Type,\n  AtSign,\n  Eye,\n  MoreHorizontal,\n  List,\n  ListOrdered,\n  AlignLeft,\n  Pilcrow,\n  Smile,\n  Link2,\n  ImageIcon,\n  Quote,\n  Table,\n  Minus,\n  Code,\n  Undo,\n  Redo,\n  Paperclip,\n  X,\n  Loader2,\n  FileImage,\n} from \"lucide-react\"\nimport { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from \"@/components/ui/dropdown-menu\"\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter } from \"@/components/ui/dialog\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\n\ninterface UploadedFile {\n  id: string\n  name: string\n  url: string\n  type: \"image\" | \"file\"\n  uploading?: boolean\n  error?: string\n}\n\ninterface RichTextEditorProps {\n  value: string\n  onChange: (value: string) => void\n  placeholder?: string\n  minHeight?: string\n  maxFiles?: number\n  onFilesChange?: (files: UploadedFile[]) => void\n  files?: UploadedFile[]\n}\n\nexport function RichTextEditor({\n  value,\n  onChange,\n  placeholder = \"Write something...\",\n  minHeight = \"200px\",\n  maxFiles = 10,\n  onFilesChange,\n  files = [],\n}: RichTextEditorProps) {\n  const textareaRef = useRef<HTMLTextAreaElement>(null)\n  const fileInputRef = useRef<HTMLInputElement>(null)\n  const [showPreview, setShowPreview] = useState(false)\n  const [showLinkDialog, setShowLinkDialog] = useState(false)\n  const [showImageDialog, setShowImageDialog] = useState(false)\n  const [linkUrl, setLinkUrl] = useState(\"\")\n  const [linkText, setLinkText] = useState(\"\")\n  const [imageUrl, setImageUrl] = useState(\"\")\n  const [imageAlt, setImageAlt] = useState(\"\")\n  const [history, setHistory] = useState<string[]>([value])\n  const [historyIndex, setHistoryIndex] = useState(0)\n\n  const insertText = useCallback(\n    (before: string, after = \"\", placeholder = \"\") => {\n      const textarea = textareaRef.current\n      if (!textarea) return\n\n      const start = textarea.selectionStart\n      const end = textarea.selectionEnd\n      const selectedText = value.substring(start, end) || placeholder\n      const newValue = value.substring(0, start) + before + selectedText + after + value.substring(end)\n\n      onChange(newValue)\n\n      // Save to history\n      setHistory((prev) => [...prev.slice(0, historyIndex + 1), newValue])\n      setHistoryIndex((prev) => prev + 1)\n\n      // Set cursor position after insertion\n      setTimeout(() => {\n        textarea.focus()\n        const newCursorPos = start + before.length + selectedText.length\n        textarea.setSelectionRange(newCursorPos, newCursorPos)\n      }, 0)\n    },\n    [value, onChange, historyIndex],\n  )\n\n  const handleBold = () => insertText(\"**\", \"**\", \"bold text\")\n  const handleItalic = () => insertText(\"*\", \"*\", \"italic text\")\n  const handleHeading = (level: number) => insertText(\"\\n\" + \"#\".repeat(level) + \" \", \"\\n\", \"Heading\")\n  const handleBulletList = () => insertText(\"\\n- \", \"\\n\", \"List item\")\n  const handleNumberedList = () => insertText(\"\\n1. \", \"\\n\", \"List item\")\n  const handleQuote = () => insertText(\"\\n> \", \"\\n\", \"Quote\")\n  const handleCode = () => insertText(\"\\n```\\n\", \"\\n```\\n\", \"code\")\n  const handleInlineCode = () => insertText(\"`\", \"`\", \"code\")\n  const handleDivider = () => insertText(\"\\n\\n---\\n\\n\", \"\")\n  const handleMention = () => insertText(\"@\", \"\", \"username\")\n\n  const handleLink = () => {\n    if (linkUrl) {\n      const text = linkText || linkUrl\n      insertText(`[${text}](${linkUrl})`, \"\")\n      setLinkUrl(\"\")\n      setLinkText(\"\")\n      setShowLinkDialog(false)\n    }\n  }\n\n  const handleImage = () => {\n    if (imageUrl) {\n      insertText(`![${imageAlt || \"image\"}](${imageUrl})`, \"\")\n      setImageUrl(\"\")\n      setImageAlt(\"\")\n      setShowImageDialog(false)\n    }\n  }\n\n  const handleTable = () => {\n    const table = `\n| Header 1 | Header 2 | Header 3 |\n|----------|----------|----------|\n| Cell 1   | Cell 2   | Cell 3   |\n| Cell 4   | Cell 5   | Cell 6   |\n`\n    insertText(table, \"\")\n  }\n\n  const handleUndo = () => {\n    if (historyIndex > 0) {\n      setHistoryIndex((prev) => prev - 1)\n      onChange(history[historyIndex - 1])\n    }\n  }\n\n  const handleRedo = () => {\n    if (historyIndex < history.length - 1) {\n      setHistoryIndex((prev) => prev + 1)\n      onChange(history[historyIndex + 1])\n    }\n  }\n\n  const handleFileSelect = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const selectedFiles = e.target.files\n    if (!selectedFiles || !onFilesChange) return\n\n    const remainingSlots = maxFiles - files.length\n    const filesToUpload = Array.from(selectedFiles).slice(0, remainingSlots)\n\n    for (const file of filesToUpload) {\n      const isImage = file.type.startsWith(\"image/\")\n      const tempFile: UploadedFile = {\n        id: `temp-${Date.now()}-${Math.random()}`,\n        name: file.name,\n        url: URL.createObjectURL(file),\n        type: isImage ? \"image\" : \"file\",\n        uploading: true,\n      }\n\n      onFilesChange([...files, tempFile])\n\n      try {\n        const formData = new FormData()\n        formData.append(\"file\", file)\n        formData.append(\"folder\", \"threads\")\n\n        const res = await fetch(\"/api/upload/blob\", {\n          method: \"POST\",\n          body: formData,\n        })\n\n        if (!res.ok) throw new Error(\"Upload failed\")\n        const data = await res.json()\n\n        onFilesChange(files.map((f) => (f.id === tempFile.id ? { ...f, url: data.url, uploading: false } : f)))\n      } catch {\n        onFilesChange(files.map((f) => (f.id === tempFile.id ? { ...f, uploading: false, error: \"Failed\" } : f)))\n      }\n    }\n\n    if (fileInputRef.current) fileInputRef.current.value = \"\"\n  }\n\n  const removeFile = (fileId: string) => {\n    if (onFilesChange) {\n      onFilesChange(files.filter((f) => f.id !== fileId))\n    }\n  }\n\n  const renderPreview = () => {\n    // Simple markdown to HTML conversion for preview\n    const html = value\n      .replace(/\\*\\*(.*?)\\*\\*/g, \"<strong>$1</strong>\")\n      .replace(/\\*(.*?)\\*/g, \"<em>$1</em>\")\n      .replace(/`(.*?)`/g, \"<code class='bg-secondary px-1 rounded'>$1</code>\")\n      .replace(/^### (.*$)/gim, \"<h3 class='text-lg font-semibold mt-4 mb-2'>$1</h3>\")\n      .replace(/^## (.*$)/gim, \"<h2 class='text-xl font-semibold mt-4 mb-2'>$1</h2>\")\n      .replace(/^# (.*$)/gim, \"<h1 class='text-2xl font-bold mt-4 mb-2'>$1</h1>\")\n      .replace(/^> (.*$)/gim, \"<blockquote class='border-l-4 border-primary pl-4 italic my-2'>$1</blockquote>\")\n      .replace(/^- (.*$)/gim, \"<li class='ml-4'>$1</li>\")\n      .replace(/^\\d+\\. (.*$)/gim, \"<li class='ml-4 list-decimal'>$1</li>\")\n      .replace(/\\[([^\\]]+)\\]$$([^)]+)$$/g, \"<a href='$2' class='text-primary underline'>$1</a>\")\n      .replace(/!\\[([^\\]]*)\\]$$([^)]+)$$/g, \"<img src='$2' alt='$1' class='max-w-full rounded-lg my-2' />\")\n      .replace(/^---$/gim, \"<hr class='my-4 border-border' />\")\n      .replace(/\\n/g, \"<br />\")\n\n    return html\n  }\n\n  return (\n    <div className=\"border border-border rounded-xl overflow-hidden bg-card\">\n      {/* Toolbar */}\n      <div className=\"flex items-center gap-1 p-2 border-b border-border bg-secondary/30 flex-wrap\">\n        {/* Text Formatting Group */}\n        <div className=\"flex items-center gap-0.5 pr-2 border-r border-border/50\">\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"h-8 w-8 rounded-lg hover:bg-secondary\"\n            onClick={() => onChange(\"\")}\n            title=\"Clear\"\n          >\n            <X className=\"h-4 w-4\" />\n          </Button>\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"h-8 w-8 rounded-lg hover:bg-secondary\"\n            onClick={handleBold}\n            title=\"Bold (Ctrl+B)\"\n          >\n            <Bold className=\"h-4 w-4\" />\n          </Button>\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"h-8 w-8 rounded-lg hover:bg-secondary\"\n            onClick={handleItalic}\n            title=\"Italic (Ctrl+I)\"\n          >\n            <Italic className=\"h-4 w-4\" />\n          </Button>\n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n              <Button\n                type=\"button\"\n                variant=\"ghost\"\n                size=\"icon\"\n                className=\"h-8 w-8 rounded-lg hover:bg-secondary\"\n                title=\"Heading\"\n              >\n                <Type className=\"h-4 w-4\" />\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent align=\"start\">\n              <DropdownMenuItem onClick={() => handleHeading(1)}>\n                <span className=\"text-xl font-bold\">Heading 1</span>\n              </DropdownMenuItem>\n              <DropdownMenuItem onClick={() => handleHeading(2)}>\n                <span className=\"text-lg font-bold\">Heading 2</span>\n              </DropdownMenuItem>\n              <DropdownMenuItem onClick={() => handleHeading(3)}>\n                <span className=\"text-base font-bold\">Heading 3</span>\n              </DropdownMenuItem>\n            </DropdownMenuContent>\n          </DropdownMenu>\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"h-8 w-8 rounded-lg hover:bg-secondary\"\n            onClick={handleMention}\n            title=\"Mention\"\n          >\n            <AtSign className=\"h-4 w-4\" />\n          </Button>\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"h-8 w-8 rounded-lg hover:bg-secondary\"\n            onClick={() => setShowPreview(!showPreview)}\n            title=\"Toggle Preview\"\n          >\n            <Eye className=\"h-4 w-4\" />\n          </Button>\n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n              <Button type=\"button\" variant=\"ghost\" size=\"icon\" className=\"h-8 w-8 rounded-lg hover:bg-secondary\">\n                <MoreHorizontal className=\"h-4 w-4\" />\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent align=\"start\">\n              <DropdownMenuItem onClick={() => insertText(\"~~\", \"~~\", \"strikethrough\")}>Strikethrough</DropdownMenuItem>\n              <DropdownMenuItem onClick={() => insertText(\"<sub>\", \"</sub>\", \"subscript\")}>Subscript</DropdownMenuItem>\n              <DropdownMenuItem onClick={() => insertText(\"<sup>\", \"</sup>\", \"superscript\")}>\n                Superscript\n              </DropdownMenuItem>\n            </DropdownMenuContent>\n          </DropdownMenu>\n        </div>\n\n        {/* List Group */}\n        <div className=\"flex items-center gap-0.5 px-2 border-r border-border/50\">\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"h-8 w-8 rounded-lg hover:bg-secondary\"\n            onClick={handleBulletList}\n            title=\"Bullet List\"\n          >\n            <List className=\"h-4 w-4\" />\n          </Button>\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"h-8 w-8 rounded-lg hover:bg-secondary\"\n            onClick={handleNumberedList}\n            title=\"Numbered List\"\n          >\n            <ListOrdered className=\"h-4 w-4\" />\n          </Button>\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"h-8 w-8 rounded-lg hover:bg-secondary\"\n            title=\"Align\"\n          >\n            <AlignLeft className=\"h-4 w-4\" />\n          </Button>\n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n              <Button\n                type=\"button\"\n                variant=\"ghost\"\n                size=\"icon\"\n                className=\"h-8 w-8 rounded-lg hover:bg-secondary\"\n                title=\"Paragraph\"\n              >\n                <Pilcrow className=\"h-4 w-4\" />\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent>\n              <DropdownMenuItem onClick={() => insertText(\"\\n\\n\", \"\", \"\")}>New Paragraph</DropdownMenuItem>\n              <DropdownMenuItem onClick={() => insertText(\"\\n\", \"\", \"\")}>Line Break</DropdownMenuItem>\n            </DropdownMenuContent>\n          </DropdownMenu>\n        </div>\n\n        {/* Media Group */}\n        <div className=\"flex items-center gap-0.5 px-2 border-r border-border/50\">\n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n              <Button\n                type=\"button\"\n                variant=\"ghost\"\n                size=\"icon\"\n                className=\"h-8 w-8 rounded-lg hover:bg-secondary\"\n                title=\"Emoji\"\n              >\n                <Smile className=\"h-4 w-4\" />\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent className=\"grid grid-cols-8 gap-1 p-2 w-auto\">\n              {[\"ðŸ˜€\", \"ðŸ˜‚\", \"ðŸ˜\", \"ðŸ¤”\", \"ðŸ‘\", \"ðŸ‘Ž\", \"â¤ï¸\", \"ðŸ”¥\", \"â­\", \"âœ…\", \"âŒ\", \"ðŸŽ‰\", \"ðŸ’¯\", \"ðŸš€\", \"ðŸ’¡\", \"âš¡\"].map(\n                (emoji) => (\n                  <Button\n                    key={emoji}\n                    type=\"button\"\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    className=\"h-8 w-8 text-lg\"\n                    onClick={() => insertText(emoji, \"\")}\n                  >\n                    {emoji}\n                  </Button>\n                ),\n              )}\n            </DropdownMenuContent>\n          </DropdownMenu>\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"h-8 w-8 rounded-lg hover:bg-secondary\"\n            onClick={() => setShowLinkDialog(true)}\n            title=\"Insert Link\"\n          >\n            <Link2 className=\"h-4 w-4\" />\n          </Button>\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"h-8 w-8 rounded-lg hover:bg-secondary\"\n            onClick={() => setShowImageDialog(true)}\n            title=\"Insert Image URL\"\n          >\n            <ImageIcon className=\"h-4 w-4\" />\n          </Button>\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"h-8 w-8 rounded-lg hover:bg-secondary\"\n            title=\"GIF\"\n          >\n            <span className=\"text-xs font-bold\">GIF</span>\n          </Button>\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"h-8 w-8 rounded-lg hover:bg-secondary\"\n            onClick={handleQuote}\n            title=\"Quote\"\n          >\n            <Quote className=\"h-4 w-4\" />\n          </Button>\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"h-8 w-8 rounded-lg hover:bg-secondary\"\n            onClick={handleTable}\n            title=\"Table\"\n          >\n            <Table className=\"h-4 w-4\" />\n          </Button>\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"h-8 w-8 rounded-lg hover:bg-secondary\"\n            onClick={handleDivider}\n            title=\"Divider\"\n          >\n            <Minus className=\"h-4 w-4\" />\n          </Button>\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"h-8 w-8 rounded-lg hover:bg-secondary\"\n            onClick={handleCode}\n            title=\"Code Block\"\n          >\n            <Code className=\"h-4 w-4\" />\n          </Button>\n        </div>\n\n        {/* Undo/Redo & Preview */}\n        <div className=\"flex items-center gap-0.5 ml-auto\">\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"h-8 w-8 rounded-lg hover:bg-secondary\"\n            onClick={handleUndo}\n            disabled={historyIndex === 0}\n            title=\"Undo\"\n          >\n            <Undo className=\"h-4 w-4\" />\n          </Button>\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"h-8 w-8 rounded-lg hover:bg-secondary\"\n            onClick={handleRedo}\n            disabled={historyIndex >= history.length - 1}\n            title=\"Redo\"\n          >\n            <Redo className=\"h-4 w-4\" />\n          </Button>\n          <Button\n            type=\"button\"\n            variant={showPreview ? \"secondary\" : \"ghost\"}\n            size=\"sm\"\n            className=\"h-8 rounded-lg gap-1.5 ml-2\"\n            onClick={() => setShowPreview(!showPreview)}\n          >\n            <Eye className=\"h-4 w-4\" />\n            Preview\n          </Button>\n        </div>\n      </div>\n\n      {/* Content Area */}\n      <div className=\"relative\" style={{ minHeight }}>\n        {showPreview ? (\n          <div\n            className=\"p-4 prose prose-invert max-w-none\"\n            style={{ minHeight }}\n            dangerouslySetInnerHTML={{\n              __html: renderPreview() || `<span class=\"text-muted-foreground\">${placeholder}</span>`,\n            }}\n          />\n        ) : (\n          <textarea\n            ref={textareaRef}\n            value={value}\n            onChange={(e) => {\n              onChange(e.target.value)\n              setHistory((prev) => [...prev.slice(0, historyIndex + 1), e.target.value])\n              setHistoryIndex((prev) => prev + 1)\n            }}\n            placeholder={placeholder}\n            className=\"w-full p-4 bg-transparent text-foreground placeholder:text-muted-foreground resize-none focus:outline-none\"\n            style={{ minHeight }}\n          />\n        )}\n      </div>\n\n      {/* Uploaded Files Preview */}\n      {files.length > 0 && (\n        <div className=\"p-3 border-t border-border bg-secondary/20\">\n          <div className=\"flex flex-wrap gap-2\">\n            {files.map((file) => (\n              <div key={file.id} className=\"relative group flex items-center gap-2 bg-secondary/50 rounded-lg p-2 pr-8\">\n                {file.type === \"image\" ? (\n                  <div className=\"h-10 w-10 rounded overflow-hidden\">\n                    <img src={file.url || \"/placeholder.svg\"} alt={file.name} className=\"h-full w-full object-cover\" />\n                  </div>\n                ) : (\n                  <FileImage className=\"h-5 w-5 text-muted-foreground\" />\n                )}\n                <span className=\"text-sm text-foreground truncate max-w-[120px]\">{file.name}</span>\n                {file.uploading && <Loader2 className=\"h-4 w-4 animate-spin text-primary\" />}\n                {file.error && <span className=\"text-xs text-destructive\">{file.error}</span>}\n                <button\n                  type=\"button\"\n                  onClick={() => removeFile(file.id)}\n                  className=\"absolute right-1 top-1/2 -translate-y-1/2 h-6 w-6 rounded-full bg-background/80 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-destructive hover:text-white\"\n                >\n                  <X className=\"h-3 w-3\" />\n                </button>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Attach Files Button */}\n      <div className=\"p-3 border-t border-border\">\n        <input\n          ref={fileInputRef}\n          type=\"file\"\n          multiple\n          accept=\"image/*,.pdf,.doc,.docx,.txt\"\n          onChange={handleFileSelect}\n          className=\"hidden\"\n        />\n        <Button\n          type=\"button\"\n          variant=\"ghost\"\n          size=\"sm\"\n          className=\"gap-2 text-primary hover:text-primary\"\n          onClick={() => fileInputRef.current?.click()}\n          disabled={files.length >= maxFiles}\n        >\n          <Paperclip className=\"h-4 w-4\" />\n          Attach files\n          {files.length > 0 && (\n            <span className=\"text-muted-foreground\">\n              ({files.length}/{maxFiles})\n            </span>\n          )}\n        </Button>\n      </div>\n\n      {/* Link Dialog */}\n      <Dialog open={showLinkDialog} onOpenChange={setShowLinkDialog}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Insert Link</DialogTitle>\n          </DialogHeader>\n          <div className=\"space-y-4 py-4\">\n            <div className=\"space-y-2\">\n              <Label>URL</Label>\n              <Input value={linkUrl} onChange={(e) => setLinkUrl(e.target.value)} placeholder=\"https://example.com\" />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Text (optional)</Label>\n              <Input value={linkText} onChange={(e) => setLinkText(e.target.value)} placeholder=\"Link text\" />\n            </div>\n          </div>\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setShowLinkDialog(false)}>\n              Cancel\n            </Button>\n            <Button onClick={handleLink} disabled={!linkUrl}>\n              Insert\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Image Dialog */}\n      <Dialog open={showImageDialog} onOpenChange={setShowImageDialog}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Insert Image</DialogTitle>\n          </DialogHeader>\n          <div className=\"space-y-4 py-4\">\n            <div className=\"space-y-2\">\n              <Label>Image URL</Label>\n              <Input\n                value={imageUrl}\n                onChange={(e) => setImageUrl(e.target.value)}\n                placeholder=\"https://example.com/image.jpg\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Alt Text (optional)</Label>\n              <Input value={imageAlt} onChange={(e) => setImageAlt(e.target.value)} placeholder=\"Image description\" />\n            </div>\n          </div>\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setShowImageDialog(false)}>\n              Cancel\n            </Button>\n            <Button onClick={handleImage} disabled={!imageUrl}>\n              Insert\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </div>\n  )\n}\n","\"use client\"\n\nimport type React from \"react\"\nimport { useState, useEffect } from \"react\"\nimport { Sidebar } from \"@/components/sidebar\"\nimport { Header } from \"@/components/header\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { useAuth } from \"@/components/auth-provider\"\nimport { useRouter } from \"next/navigation\"\nimport { RichTextEditor } from \"@/components/rich-text-editor\"\nimport { MessageSquare, Send, AlertCircle, CheckCircle, Tag, Sparkles } from \"lucide-react\"\n\ninterface Category {\n  id: string\n  name: string\n  color: string\n}\n\ninterface UploadedFile {\n  id: string\n  name: string\n  url: string\n  type: \"image\" | \"file\"\n  uploading?: boolean\n  error?: string\n}\n\nexport default function NewThreadPage() {\n  const { user } = useAuth()\n  const router = useRouter()\n\n  const [title, setTitle] = useState(\"\")\n  const [content, setContent] = useState(\"\")\n  const [categoryId, setCategoryId] = useState(\"\")\n  const [categories, setCategories] = useState<Category[]>([])\n  const [isSubmitting, setIsSubmitting] = useState(false)\n  const [submitResult, setSubmitResult] = useState<{ success: boolean; message: string } | null>(null)\n  const [files, setFiles] = useState<UploadedFile[]>([])\n\n  useEffect(() => {\n    const fetchCategories = async () => {\n      try {\n        const res = await fetch(\"/api/forum/categories\")\n        const data = await res.json()\n        const categoriesArray = Array.isArray(data) ? data : data.categories || []\n        if (categoriesArray.length > 0) {\n          setCategories(categoriesArray)\n          setCategoryId(categoriesArray[0].id)\n        }\n      } catch (error) {\n        console.error(\"Failed to fetch categories\")\n      }\n    }\n    fetchCategories()\n  }, [])\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    if (!title.trim() || !content.trim()) return\n\n    setIsSubmitting(true)\n    setSubmitResult(null)\n\n    try {\n      const imageUrls = files.filter((f) => f.type === \"image\" && !f.error && !f.uploading).map((f) => f.url)\n\n      const res = await fetch(\"/api/forum/threads\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          title,\n          content,\n          categoryId,\n          images: imageUrls,\n        }),\n      })\n\n      const data = await res.json()\n\n      if (res.ok) {\n        const isPending = data.status === \"pending\"\n        setSubmitResult({\n          success: true,\n          message: isPending\n            ? \"Your post has been submitted and is awaiting admin approval.\"\n            : \"Your post has been published successfully!\",\n        })\n\n        if (!isPending) {\n          setTimeout(() => router.push(`/forum/thread/${data.id}`), 2000)\n        } else {\n          setTimeout(() => router.push(\"/forum\"), 3000)\n        }\n      } else {\n        setSubmitResult({\n          success: false,\n          message: data.error || \"Failed to create thread\",\n        })\n      }\n    } catch {\n      setSubmitResult({\n        success: false,\n        message: \"An error occurred. Please try again.\",\n      })\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n  if (!user) {\n    return (\n      <div className=\"min-h-screen bg-background\">\n        <Sidebar />\n        <main className=\"md:ml-72 transition-all duration-300\">\n          <Header />\n          <div className=\"flex items-center justify-center min-h-[80vh] p-6\">\n            <div className=\"text-center glass rounded-2xl p-8 max-w-md\">\n              <div className=\"h-20 w-20 rounded-2xl bg-gradient-to-br from-primary to-accent flex items-center justify-center mx-auto mb-6\">\n                <MessageSquare className=\"h-10 w-10 text-white\" />\n              </div>\n              <h2 className=\"text-2xl font-bold text-foreground mb-2\">Login Required</h2>\n              <p className=\"text-muted-foreground mb-6\">\n                Please login with Discord to create a new thread and participate in the community.\n              </p>\n              <div className=\"flex flex-col gap-3\">\n                <Button\n                  onClick={() => {\n                    // Trigger Discord login\n                    window.location.href = \"/api/auth/signin/discord\"\n                  }}\n                  className=\"w-full h-12 bg-[#5865F2] hover:bg-[#4752C4] gap-2\"\n                >\n                  <svg className=\"h-5 w-5\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                    <path d=\"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z\" />\n                  </svg>\n                  Login with Discord\n                </Button>\n                <Button variant=\"outline\" onClick={() => router.push(\"/forum\")} className=\"w-full h-12\">\n                  Back to Forum\n                </Button>\n              </div>\n            </div>\n          </div>\n        </main>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <Sidebar />\n      <main className=\"md:ml-72 transition-all duration-300\">\n        <Header />\n        <div className=\"p-6 max-w-4xl mx-auto\">\n          {/* Header */}\n          <div className=\"flex items-center gap-4 mb-8\">\n            <div className=\"h-14 w-14 rounded-2xl bg-gradient-to-br from-primary to-accent flex items-center justify-center glow-sm\">\n              <Sparkles className=\"h-7 w-7 text-white\" />\n            </div>\n            <div>\n              <h1 className=\"text-3xl font-bold text-foreground\">Create New Thread</h1>\n              <p className=\"text-muted-foreground\">Share your thoughts with the community</p>\n            </div>\n          </div>\n\n          {/* Notice */}\n          <div className=\"glass rounded-xl p-4 mb-6 border border-amber-500/30 bg-amber-500/5\">\n            <div className=\"flex items-start gap-3\">\n              <AlertCircle className=\"h-5 w-5 text-amber-500 shrink-0 mt-0.5\" />\n              <div>\n                <p className=\"font-medium text-foreground\">Moderation Notice</p>\n                <p className=\"text-sm text-muted-foreground\">\n                  All new posts require admin approval before they become visible to the community.\n                </p>\n              </div>\n            </div>\n          </div>\n\n          {/* Success/Error Message */}\n          {submitResult && (\n            <div\n              className={`glass rounded-xl p-4 mb-6 ${\n                submitResult.success ? \"border-emerald-500/30 bg-emerald-500/5\" : \"border-red-500/30 bg-red-500/5\"\n              }`}\n            >\n              <div className=\"flex items-start gap-3\">\n                {submitResult.success ? (\n                  <CheckCircle className=\"h-5 w-5 text-emerald-500 shrink-0 mt-0.5\" />\n                ) : (\n                  <AlertCircle className=\"h-5 w-5 text-red-500 shrink-0 mt-0.5\" />\n                )}\n                <p className=\"text-foreground\">{submitResult.message}</p>\n              </div>\n            </div>\n          )}\n\n          {/* Form */}\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            {/* Category & Title */}\n            <div className=\"glass rounded-2xl p-6 space-y-5\">\n              {/* Category Selection */}\n              <div>\n                <label className=\"flex items-center gap-2 text-sm font-medium text-foreground mb-3\">\n                  <Tag className=\"h-4 w-4 text-primary\" />\n                  Category\n                </label>\n                <div className=\"flex flex-wrap gap-2\">\n                  {categories.map((cat) => (\n                    <button\n                      key={cat.id}\n                      type=\"button\"\n                      onClick={() => setCategoryId(cat.id)}\n                      className={`px-4 py-2 rounded-xl text-sm font-medium transition-all ${\n                        categoryId === cat.id\n                          ? \"bg-primary text-primary-foreground shadow-lg shadow-primary/25\"\n                          : \"bg-secondary/50 text-muted-foreground hover:bg-secondary hover:text-foreground\"\n                      }`}\n                    >\n                      {cat.name}\n                    </button>\n                  ))}\n                </div>\n              </div>\n\n              {/* Title */}\n              <div>\n                <label className=\"block text-sm font-medium text-foreground mb-2\">\n                  Title <span className=\"text-red-500\">*</span>\n                </label>\n                <Input\n                  value={title}\n                  onChange={(e) => setTitle(e.target.value)}\n                  placeholder=\"Enter a descriptive title for your thread...\"\n                  className=\"bg-secondary/50 border-border h-12 text-lg\"\n                  maxLength={200}\n                  required\n                />\n                <div className=\"flex justify-between mt-2\">\n                  <p className=\"text-xs text-muted-foreground\">Make it clear and engaging</p>\n                  <p className=\"text-xs text-muted-foreground\">{title.length}/200</p>\n                </div>\n              </div>\n            </div>\n\n            {/* Content Editor */}\n            <div className=\"glass rounded-2xl p-6\">\n              <label className=\"block text-sm font-medium text-foreground mb-3\">\n                Content <span className=\"text-red-500\">*</span>\n              </label>\n              <RichTextEditor\n                value={content}\n                onChange={setContent}\n                placeholder=\"Write your post content here... Use the toolbar above for formatting.\"\n                minHeight=\"300px\"\n                files={files}\n                onFilesChange={setFiles}\n                maxFiles={10}\n              />\n              <p className=\"text-xs text-muted-foreground mt-2\">Minimum 10 characters. Supports Markdown formatting.</p>\n            </div>\n\n            {/* Submit Button */}\n            <div className=\"flex items-center gap-4\">\n              <Button type=\"button\" variant=\"outline\" onClick={() => router.back()} className=\"flex-1 h-12\">\n                Cancel\n              </Button>\n              <Button\n                type=\"submit\"\n                disabled={isSubmitting || !title.trim() || content.length < 10}\n                className=\"flex-1 h-12 bg-gradient-to-r from-primary to-accent hover:opacity-90 gap-2\"\n              >\n                {isSubmitting ? (\n                  <>\n                    <div className=\"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin\" />\n                    Submitting...\n                  </>\n                ) : (\n                  <>\n                    <Send className=\"h-4 w-4\" />\n                    Submit for Review\n                  </>\n                )}\n              </Button>\n            </div>\n          </form>\n        </div>\n      </main>\n    </div>\n  )\n}\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Pilcrow\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTMgNHYxNiIgLz4KICA8cGF0aCBkPSJNMTcgNHYxNiIgLz4KICA8cGF0aCBkPSJNMTkgNEg5LjVhNC41IDQuNSAwIDAgMCAwIDlIMTMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/pilcrow\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Pilcrow = createLucideIcon('Pilcrow', [\n  ['path', { d: 'M13 4v16', key: '8vvj80' }],\n  ['path', { d: 'M17 4v16', key: '7dpous' }],\n  ['path', { d: 'M19 4H9.5a4.5 4.5 0 0 0 0 9H13', key: 'sh4n9v' }],\n]);\n\nexport default Pilcrow;\n"],"names":[],"mappings":"wDCGA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,ODJA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OEQM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAU,CAAV,CAAA,CAAA,CAAA,MAAU,OAAA,EAAiB,SAAW,CAAA,CAC1C,AAD0C,CACzC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA,CAAA,AAAE,EAAG,CAAY,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAK,QAAA,CAAU,CAAA,CAAA,AACzC,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA,CAAA,AAAE,EAAG,CAAY,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAK,QAAA,CAAU,CAAA,CAAA,AACzC,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA,CAAA,AAAE,EAAG,CAAkC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAK,QAAA,CAAU,CAAA,CAChE,CAAA,CAAA,AFZD,IAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,MAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAyBA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,EAAA,CAAA,CAAA,OAqBO,SAAS,EAAe,OAC7B,CAAK,UACL,CAAQ,aACR,EAAc,oBAAoB,WAClC,EAAY,OAAO,UACnB,EAAW,EAAE,eACb,CAAa,OACb,EAAQ,EAAE,CACU,EACpB,IAAM,EAAc,CAAA,EAAA,EAAA,MAAA,AAAM,EAAsB,MAC1C,EAAe,CAAA,EAAA,EAAA,MAAA,AAAM,EAAmB,MACxC,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACzC,CAAC,EAAgB,EAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC/C,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjD,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACjC,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACnC,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACnC,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACnC,CAAC,EAAS,GAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAW,CAAC,EAAM,EAClD,CAAC,GAAc,GAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAE3C,GAAa,CAAA,EAAA,EAAA,WAAW,AAAX,EACjB,CAAC,EAAgB,EAAQ,EAAE,CAAE,EAAc,EAAE,IAC3C,IAAM,EAAW,EAAY,OAAO,CACpC,GAAI,CAAC,EAAU,OAEf,IAAM,EAAQ,EAAS,cAAc,CAC/B,EAAM,EAAS,YAAY,CAC3B,EAAe,EAAM,SAAS,CAAC,EAAO,IAAQ,EAC9C,EAAW,EAAM,SAAS,CAAC,EAAG,GAAS,EAAS,EAAe,EAAQ,EAAM,SAAS,CAAC,GAE7F,EAAS,GAGT,GAAW,AAAC,GAAS,IAAI,EAAK,KAAK,CAAC,EAAG,GAAe,GAAI,EAAS,EACnE,GAAgB,AAAC,GAAS,EAAO,GAGjC,WAAW,KACT,EAAS,KAAK,GACd,IAAM,EAAe,EAAQ,EAAO,MAAM,CAAG,EAAa,MAAM,CAChE,EAAS,iBAAiB,CAAC,EAAc,EAC3C,EAAG,EACL,EACA,CAAC,EAAO,EAAU,GAAa,EAK3B,GAAgB,AAAC,GAAkB,GAAW,KAAO,IAAI,MAAM,CAAC,GAAS,IAAK,KAAM,WAoDpF,GAAmB,MAAO,IAC9B,IAAM,EAAgB,EAAE,MAAM,CAAC,KAAK,CACpC,GAAI,CAAC,GAAiB,CAAC,EAAe,OAEtC,IAAM,EAAiB,EAAW,EAAM,MAAM,CAG9C,IAAK,IAAM,KAFW,GAEH,GAFS,IAAI,CAAC,GAAe,KAAK,CAAC,EAAG,GAEvB,CAChC,IAAM,EAAU,EAAK,IAAI,CAAC,UAAU,CAAC,UAC/B,EAAyB,CAC7B,GAAI,CAAC,KAAK,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,MAAM,GAAA,CAAI,CACzC,KAAM,EAAK,IAAI,CACf,IAAK,IAAI,eAAe,CAAC,GACzB,KAAM,EAAU,QAAU,OAC1B,WAAW,CACb,EAEA,EAAc,IAAI,EAAO,EAAS,EAElC,GAAI,CACF,IAAM,EAAW,IAAI,SACrB,EAAS,MAAM,CAAC,OAAQ,GACxB,EAAS,MAAM,CAAC,SAAU,WAE1B,IAAM,EAAM,MAAM,MAAM,mBAAoB,CAC1C,OAAQ,OACR,KAAM,CACR,GAEA,GAAI,CAAC,EAAI,EAAE,CAAE,MAAM,AAAI,MAAM,iBAC7B,IAAM,EAAO,MAAM,EAAI,IAAI,GAE3B,EAAc,EAAM,GAAG,CAAC,AAAC,GAAO,EAAE,EAAE,GAAK,EAAS,EAAE,CAAG,CAAE,GAAG,CAAC,CAAE,IAAK,EAAK,GAAG,CAAE,UAAW,EAAM,EAAI,GACrG,CAAE,KAAM,CACN,EAAc,EAAM,GAAG,CAAC,AAAC,GAAO,EAAE,EAAE,GAAK,EAAS,EAAE,CAAG,CAAE,GAAG,CAAC,CAAE,WAAW,EAAO,MAAO,QAAS,EAAI,GACvG,CACF,CAEI,EAAa,OAAO,GAAE,EAAa,OAAO,CAAC,KAAK,CAAG,EAAA,CACzD,EA4BA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oEAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yFAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qEACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,QACR,KAAK,OACL,UAAU,wCACV,QAAS,IAAM,EAAS,IACxB,MAAM,iBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAC,CAAA,CAAC,UAAU,cAEf,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,QACR,KAAK,OACL,UAAU,wCACV,QA9IS,CA8IA,GA9IM,GAAW,KAAM,KAAM,aA+ItC,MAAM,yBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,cAElB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,QACR,KAAK,OACL,UAAU,wCACV,QAvJW,CAuJF,GAvJQ,GAAW,IAAK,IAAK,eAwJtC,MAAM,2BAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,cAEpB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,YAAY,CAAA,WACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,mBAAmB,CAAA,CAAC,OAAO,CAAA,CAAA,WAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,QACR,KAAK,OACL,UAAU,wCACV,MAAM,mBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,gBAGpB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,mBAAmB,CAAA,CAAC,MAAM,kBACzB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,gBAAgB,CAAA,CAAC,QAAS,IAAM,GAAc,YAC7C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,6BAAoB,gBAEtC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,gBAAgB,CAAA,CAAC,QAAS,IAAM,GAAc,YAC7C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,6BAAoB,gBAEtC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,gBAAgB,CAAA,CAAC,QAAS,IAAM,GAAc,YAC7C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,+BAAsB,sBAI5C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,QACR,KAAK,OACL,UAAU,wCACV,QAjLY,CAiLH,GAjLS,GAAW,IAAK,GAAI,YAkLtC,MAAM,mBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,cAEpB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,QACR,KAAK,OACL,UAAU,wCACV,QAAS,IAAM,EAAe,CAAC,GAC/B,MAAM,0BAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,UAAU,cAEjB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,YAAY,CAAA,WACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,mBAAmB,CAAA,CAAC,OAAO,CAAA,CAAA,WAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAK,SAAS,QAAQ,QAAQ,KAAK,OAAO,UAAU,iDAC1D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CAAC,UAAU,gBAG9B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,mBAAmB,CAAA,CAAC,MAAM,kBACzB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,gBAAgB,CAAA,CAAC,QAAS,IAAM,GAAW,KAAM,KAAM,0BAAkB,kBAC1E,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,gBAAgB,CAAA,CAAC,QAAS,IAAM,GAAW,QAAS,SAAU,sBAAc,cAC7E,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,gBAAgB,CAAA,CAAC,QAAS,IAAM,GAAW,QAAS,SAAU,wBAAgB,yBAQrF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qEACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,QACR,KAAK,OACL,UAAU,wCACV,QA7Ne,CA6NN,GA7NY,GAAW,OAAQ,KAAM,aA8N9C,MAAM,uBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,cAElB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,QACR,KAAK,OACL,UAAU,wCACV,QAtOiB,CAsOR,GAtOc,GAAW,QAAS,KAAM,aAuOjD,MAAM,yBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,cAEzB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,QACR,KAAK,OACL,UAAU,wCACV,MAAM,iBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,cAEvB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,YAAY,CAAA,WACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,mBAAmB,CAAA,CAAC,OAAO,CAAA,CAAA,WAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,QACR,KAAK,OACL,UAAU,wCACV,MAAM,qBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAQ,UAAU,gBAGvB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,mBAAmB,CAAA,WAClB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,gBAAgB,CAAA,CAAC,QAAS,IAAM,GAAW,OAAQ,GAAI,aAAK,kBAC7D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,gBAAgB,CAAA,CAAC,QAAS,IAAM,GAAW,KAAM,GAAI,aAAK,wBAMjE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qEACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,YAAY,CAAA,WACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,mBAAmB,CAAA,CAAC,OAAO,CAAA,CAAA,WAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,QACR,KAAK,OACL,UAAU,wCACV,MAAM,iBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,gBAGrB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,mBAAmB,CAAA,CAAC,UAAU,6CAC5B,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,IAAK,IAAK,IAAK,KAAM,KAAM,KAAM,KAAM,IAAI,CAAC,GAAG,CAC9F,AAAD,GACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAEL,KAAK,SACL,QAAQ,QACR,KAAK,OACL,UAAU,kBACV,QAAS,IAAM,GAAW,EAAO,aAEhC,GAPI,SAaf,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,QACR,KAAK,OACL,UAAU,wCACV,QAAS,IAAM,GAAkB,GACjC,MAAM,uBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,cAEnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,QACR,KAAK,OACL,UAAU,wCACV,QAAS,IAAM,EAAmB,IAClC,MAAM,4BAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,cAEvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,QACR,KAAK,OACL,UAAU,wCACV,MAAM,eAEN,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,6BAAoB,UAEtC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,QACR,KAAK,OACL,UAAU,wCACV,QAvUU,CAuUD,GAvUO,GAAW,OAAQ,KAAM,SAwUzC,MAAM,iBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,cAEnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,QACR,KAAK,OACL,UAAU,wCACV,QAxTU,CAwTD,IAjTjB,GANc,CAAC,OAMJ;;;;;AADf,CAAC,CACqB,GACpB,EAiTU,MAAM,iBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,cAEnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,QACR,KAAK,OACL,UAAU,wCACV,QAxVY,CAwVH,GAxVS,GAAW,cAAe,IAyV5C,MAAM,mBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,cAEnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,QACR,KAAK,OACL,UAAU,wCACV,QApWS,CAoWA,GApWM,GAAW,UAAW,UAAW,QAqWhD,MAAM,sBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,iBAKpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,QACR,KAAK,OACL,UAAU,wCACV,QAhVS,CAgVA,IA/Ub,GAAe,GAAG,CACpB,GAAgB,AAAC,GAAS,EAAO,GACjC,EAAS,CAAO,CAAC,GAAe,EAAE,EAEtC,EA4UU,SAA2B,IAAjB,GACV,MAAM,gBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,cAElB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,QACR,KAAK,OACL,UAAU,wCACV,QApVS,CAoVA,IAnVb,GAAe,EAAQ,MAAM,CAAG,GAAG,CACrC,GAAgB,AAAC,GAAS,EAAO,GACjC,EAAS,CAAO,CAAC,GAAe,EAAE,EAEtC,EAgVU,SAAU,IAAgB,EAAQ,MAAM,CAAG,EAC3C,MAAM,gBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,cAElB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAS,EAAc,YAAc,QACrC,KAAK,KACL,UAAU,8BACV,QAAS,IAAM,EAAe,CAAC,aAE/B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,UAAU,YAAY,mBAOjC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,WAAW,MAAO,WAAE,CAAU,WAC1C,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,oCACV,MAAO,WAAE,CAAU,EACnB,wBAAyB,CACvB,OAtTG,AAsTK,EArTf,OAAO,CAAC,iBAAkB,uBAC1B,OAAO,CAAC,aAAc,eACtB,OAAO,CAAC,WAAY,qDACpB,OAAO,CAAC,gBAAiB,uDACzB,OAAO,CAAC,eAAgB,uDACxB,OAAO,CAAC,cAAe,oDACvB,OAAO,CAAC,cAAe,kFACvB,OAAO,CAAC,cAAe,4BACvB,OAAO,CAAC,kBAAmB,yCAC3B,OAAO,CAAC,2BAA4B,sDACpC,OAAO,CAAC,4BAA6B,gEACrC,OAAO,CAAC,WAAY,qCACpB,OAAO,CAAC,MAAO,WAySmB,CAAC,oCAAoC,EAAE,EAAY,OAAO,CACvF,AADwF,IAI1F,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CACC,IAAK,EACL,MAAO,EACP,SAAU,AAAC,IACT,EAAS,EAAE,MAAM,CAAC,KAAK,EACvB,GAAW,AAAC,GAAS,IAAI,EAAK,KAAK,CAAC,EAAG,GAAe,GAAI,EAAE,MAAM,CAAC,KAAK,CAAC,EACzE,GAAgB,AAAC,GAAS,EAAO,EACnC,EACA,YAAa,EACb,UAAU,6GACV,MAAO,WAAE,CAAU,MAMxB,EAAM,MAAM,CAAG,GACd,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gCACZ,EAAM,GAAG,CAAC,AAAC,GACV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAkB,UAAU,uFACZ,UAAd,EAAK,IAAI,CACR,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6CACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,IAAK,EAAK,GAAG,EAAI,mBAAoB,IAAK,EAAK,IAAI,CAAE,UAAU,iCAGtE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,kCAEvB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,0DAAkD,EAAK,IAAI,GAC1E,EAAK,SAAS,EAAI,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,sCACrC,EAAK,KAAK,EAAI,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,oCAA4B,EAAK,KAAK,GACrE,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAM,cAnWX,EAmWsB,EAAK,EAAE,MAlW3C,GACF,EAAc,EAAM,MAAM,CAAC,AAAC,GAAM,EAAE,EAAE,GAAK,GADzC,GAAe,AAmWL,UAAU,uNAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAC,CAAA,CAAC,UAAU,gBAhBP,EAAK,EAAE,OAyBzB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,IAAK,EACL,KAAK,OACL,QAAQ,CAAA,CAAA,EACR,OAAO,+BACP,SAAU,GACV,UAAU,WAEZ,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,QACR,KAAK,KACL,UAAU,wCACV,QAAS,IAAM,EAAa,OAAO,EAAE,QACrC,SAAU,EAAM,MAAM,EAAI,YAE1B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,YAAY,eAEhC,EAAM,MAAM,CAAG,GACd,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,kCAAwB,IACpC,EAAM,MAAM,CAAC,IAAE,EAAS,aAOlC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAM,EAAgB,aAAc,WAC1C,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,aAAa,CAAA,WACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,UACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UAAC,kBAEf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,UAAC,QACP,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,MAAO,EAAS,SAAU,AAAC,GAAM,EAAW,EAAE,MAAM,CAAC,KAAK,EAAG,YAAY,2BAElF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,UAAC,oBACP,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,MAAO,EAAU,SAAU,AAAC,GAAM,EAAY,EAAE,MAAM,CAAC,KAAK,EAAG,YAAY,oBAGtF,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,YAAY,CAAA,WACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAQ,UAAU,QAAS,IAAM,GAAkB,YAAQ,WAGnE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAlfC,CAkfQ,IAjfzB,GAAI,EAAS,CACX,IAAM,EAAO,GAAY,EACzB,GAAW,CAAC,CAAC,EAAE,EAAK,EAAE,EAAE,EAAQ,CAAC,CAAC,CAAE,IACpC,EAAW,IACX,EAAY,IACZ,GAAkB,EACpB,CACF,EA0euC,SAAU,CAAC,WAAS,mBAQvD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAM,EAAiB,aAAc,WAC3C,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,aAAa,CAAA,WACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,UACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UAAC,mBAEf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,UAAC,cACP,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,MAAO,EACP,SAAW,AAAD,GAAO,EAAY,EAAE,MAAM,CAAC,KAAK,EAC3C,YAAY,qCAGhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,UAAC,wBACP,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,MAAO,EAAU,SAAU,AAAC,GAAM,EAAY,EAAE,MAAM,CAAC,KAAK,EAAG,YAAY,4BAGtF,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,YAAY,CAAA,WACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAQ,UAAU,QAAS,IAAM,GAAmB,YAAQ,WAGpE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAvgBE,CAugBO,IAtgBrB,IACF,GAAW,CAAC,EADA,AACE,EAAE,GAAY,QAAQ,EAAE,EAAE,EAAS,CAAC,CAAC,CAAE,IACrD,EAAY,IACZ,EAAY,IACZ,GAAmB,GAEvB,EAggBwC,SAAU,CAAC,WAAU,qBAQ/D,CC9nBA,IAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAiBe,SAAS,IACtB,GAAM,MAAE,CAAI,CAAE,CAAG,CAAA,EAAA,EAAA,OAAA,AAAO,IAClB,EAAS,CAAA,EAAA,EAAA,SAAS,AAAT,IAET,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC7B,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACjC,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACvC,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAa,EAAE,EACrD,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC3C,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAA+C,MACzF,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAiB,EAAE,EAErD,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAcR,CAbwB,UACtB,GAAI,CACF,IAAM,EAAM,MAAM,MAAM,yBAClB,EAAO,MAAM,EAAI,IAAI,GACrB,EAAkB,MAAM,OAAO,CAAC,GAAQ,EAAO,EAAK,UAAU,EAAI,EAAE,CACtE,EAAgB,MAAM,CAAG,GAAG,CAC9B,EAAc,GACd,EAAc,CAAe,CAAC,EAAE,CAAC,EAAE,EAEvC,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,6BAChB,EACF,GAEF,EAAG,EAAE,EAEL,IAAM,EAAe,MAAO,IAE1B,GADA,EAAE,cAAc,GACZ,AAAC,EAAM,IAAI,IAAO,EAAD,AAAS,IAAI,IAAI,AAEtC,EAAgB,IAChB,EAAgB,MAEhB,GAAI,CACF,IAAM,EAAY,EAAM,MAAM,CAAE,AAAD,GAAkB,UAAX,EAAE,IAAI,EAAgB,CAAC,EAAE,KAAK,EAAI,CAAC,EAAE,SAAS,EAAE,GAAG,CAAC,AAAC,GAAM,EAAE,GAAG,EAEhG,EAAM,MAAM,MAAM,qBAAsB,CAC5C,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,CACnB,QACA,qBACA,EACA,OAAQ,CACV,EACF,GAEM,EAAO,MAAM,EAAI,IAAI,GAE3B,GAAI,EAAI,EAAE,CAAE,CACV,IAAM,EAA4B,YAAhB,EAAK,MAAM,CAC7B,EAAgB,CACd,QAAS,GACT,QAAS,EACL,+DACA,4CACN,GAEK,EAGH,SAHc,EAGH,IAAM,EAAO,IAAI,CAAC,UAAW,KAFxC,WAAW,IAAM,EAAO,IAAI,CAAC,CAAC,cAAc,EAAE,EAAK,EAAE,CAAA,CAAE,EAAG,IAI9D,MACE,CADK,CACW,CACd,SAAS,EACT,QAAS,EAAK,KAAK,EAAI,yBACzB,EAEJ,CAAE,KAAM,CACN,EAAgB,CACd,SAAS,EACT,QAAS,sCACX,EACF,QAAU,CACR,GAAgB,EAClB,EACF,SAEK,AAAL,EAwCE,CAAA,CAxCE,CAwCF,CAxCS,CAwCT,IAAA,EAAC,MAAA,CAAI,UAAU,uCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAA,GACR,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,iDACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAA,GACP,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kCAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mHACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,yBAEtB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8CAAqC,sBACnD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,iDAKzC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+EACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,2CACvB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uCAA8B,sBAC3C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,8FAQlD,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAW,CAAC,0BAA0B,EACpC,EAAa,OAAO,CAAG,yCAA2C,iCAAA,CAClE,UAEF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACZ,EAAa,OAAO,CACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,6CAEvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,yCAEzB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,2BAAmB,EAAa,OAAO,QAM1D,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,EAAc,UAAU,sBAEtC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,6EACf,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,UAAU,yBAAyB,cAG1C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gCACZ,EAAW,GAAG,CAAC,AAAC,GACf,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAEC,KAAK,SACL,QAAS,IAAM,EAAc,EAAI,EAAE,EACnC,UAAW,CAAC,wDAAwD,EAClE,IAAe,EAAI,EAAE,CACjB,iEACA,iFAAA,CACJ,UAED,EAAI,IAAI,EATJ,EAAI,EAAE,QAgBnB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,2DAAiD,SAC1D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBAAe,SAEvC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,MAAO,EACP,SAAU,AAAC,GAAM,EAAS,EAAE,MAAM,CAAC,KAAK,EACxC,YAAY,+CACZ,UAAU,6CACV,UAAW,IACX,QAAQ,CAAA,CAAA,IAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sCACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,+BAC7C,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,0CAAiC,EAAM,MAAM,CAAC,mBAMjE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kCACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,2DAAiD,WACxD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBAAe,SAEzC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,MAAO,EACP,SAAU,EACV,YAAY,wEACZ,UAAU,QACV,MAAO,EACP,cAAe,EACf,SAAU,KAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8CAAqC,4DAIpD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAK,SAAS,QAAQ,UAAU,QAAS,IAAM,EAAO,IAAI,GAAI,UAAU,uBAAc,WAG9F,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,SAAU,GAAgB,CAAC,EAAM,IAAI,IAAM,EAAQ,MAAM,CAAG,GAC5D,UAAU,sFAET,EACC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iFAAiF,mBAIlG,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,YAAY,wCAvK1C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAA,GACR,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,iDACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAA,GACP,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6DACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wHACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,2BAE3B,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mDAA0C,mBACxD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA6B,uFAG1C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gCACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAS,KAEP,OAAO,QAAQ,CAAC,IAAI,CAAG,0BACzB,EACA,UAAU,8DAEV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,QAAQ,YAAY,KAAK,wBAChD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,EAAE,ikCACJ,wBAGR,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAQ,UAAU,QAAS,IAAM,EAAO,IAAI,CAAC,UAAW,UAAU,uBAAc,+BAwJxG","ignoreList":[2]}