module.exports=[32784,a=>{"use strict";let b=(0,a.i(7374).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],32784)},53915,a=>{"use strict";let b=(0,a.i(7374).default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);a.s(["Shield",()=>b],53915)},5838,a=>{"use strict";var b=a.i(83865),c=a.i(8324);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},37339,a=>{"use strict";let b=(0,a.i(7374).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);a.s(["RefreshCw",()=>b],37339)},91818,a=>{"use strict";let b=(0,a.i(7374).default)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);a.s(["Database",()=>b],91818)},4940,a=>{"use strict";let b=(0,a.i(7374).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);a.s(["XCircle",()=>b],4940)},70441,a=>{"use strict";let b=(0,a.i(7374).default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);a.s(["ArrowRight",()=>b],70441)},7412,a=>{"use strict";var b=a.i(83865),c=a.i(16482),d=a.i(13065),e=a.i(49339),f=a.i(5838),g=a.i(91818),h=a.i(13734),i=a.i(4940),j=a.i(32784),k=a.i(37339);function l(){let[a,d]=(0,c.useState)([{name:"Check Database Connection",status:"pending"},{name:"Seed Forum Categories",status:"pending"},{name:"Seed Sample Assets",status:"pending"},{name:"Create Admin User",status:"pending"}]),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(null),r=(a,b,c)=>{d(d=>d.map((d,e)=>e===a?{...d,status:b,message:c}:d))},s=async()=>{m(!0),q(null),r(0,"running");try{if((await fetch("/api/stats")).ok)r(0,"success","Connected to Supabase");else throw Error("Connection failed")}catch(a){r(0,"error","Failed to connect to database"),q("Please ensure Supabase is properly connected in the sidebar"),m(!1);return}r(1,"running");try{let a=await fetch("/api/seed",{method:"POST"}),b=await a.json();if(a.ok)"Already seeded"===b.message?(r(1,"success","Categories already exist"),r(2,"success",`${b.count||0} assets exist`)):(r(1,"success",`${b.categories||6} categories created`),r(2,"success",`${b.seeded||0} assets created`));else throw Error(b.error||"Seed failed")}catch(a){a.message?.includes("does not exist")?(r(1,"error","Tables not created yet"),r(2,"error","Run SQL scripts first"),q("Please run the SQL scripts in the /scripts folder to create the database tables first")):(r(1,"error",a.message||"Seed failed"),r(2,"error","Check console for details"))}r(3,"running");try{let a=await fetch("/api/force-admin"),b=await a.json();b.adminCount>0?r(3,"success",`${b.adminCount} admin(s) configured`):b.currentUser?r(3,"success","Login detected - click 'Become Admin' in admin panel"):r(3,"success","Login with Discord to become admin")}catch{r(3,"error","Admin check failed")}m(!1),o(a.every(a=>"success"===a.status||"error"===a.status))},t=a.every(a=>"success"===a.status);return(0,b.jsxs)(f.Card,{className:"w-full max-w-md mx-auto",children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(g.Database,{className:"h-5 w-5"}),"Database Setup"]}),(0,b.jsx)(f.CardDescription,{children:"Initialize your FiveM Tools database with sample data"})]}),(0,b.jsxs)(f.CardContent,{className:"space-y-4",children:[a.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-3",children:["pending"===a.status&&(0,b.jsx)("div",{className:"h-5 w-5 rounded-full border-2 border-muted"}),"running"===a.status&&(0,b.jsx)(j.Loader2,{className:"h-5 w-5 animate-spin text-primary"}),"success"===a.status&&(0,b.jsx)(h.CheckCircle,{className:"h-5 w-5 text-green-500"}),"error"===a.status&&(0,b.jsx)(i.XCircle,{className:"h-5 w-5 text-red-500"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:a.name}),a.message&&(0,b.jsx)("p",{className:`text-xs ${"error"===a.status?"text-red-400":"text-muted-foreground"}`,children:a.message})]})]},a.name)),p&&(0,b.jsx)("div",{className:"p-3 rounded-lg bg-red-500/10 border border-red-500/20",children:(0,b.jsx)("p",{className:"text-sm text-red-400",children:p})}),(0,b.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,b.jsx)(e.Button,{onClick:s,disabled:l,className:"flex-1",children:l?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Running..."]}):t?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h.CheckCircle,{className:"h-4 w-4 mr-2"}),"Complete!"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.Database,{className:"h-4 w-4 mr-2"}),"Initialize Database"]})}),n&&(0,b.jsx)(e.Button,{onClick:()=>{d([{name:"Check Database Connection",status:"pending"},{name:"Seed Forum Categories",status:"pending"},{name:"Seed Sample Assets",status:"pending"},{name:"Create Admin User",status:"pending"}]),o(!1),q(null)},variant:"outline",size:"icon",children:(0,b.jsx)(k.RefreshCw,{className:"h-4 w-4"})})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:"Make sure to run the SQL scripts in /scripts folder first"})]})]})}var m=a.i(50969),n=a.i(70441),o=a.i(53915);function p(){let{user:a,isLoading:f,login:g,isAdmin:h}=(0,m.useAuth)(),i=(0,d.useRouter)(),[j,k]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/stats"),b=await a.json();b.users>0&&b.assets>0&&k(!0)}catch{}})()},[]),(0,b.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"w-full max-w-lg space-y-6",children:[(0,b.jsxs)("div",{className:"text-center space-y-2",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"FiveM Tools Setup"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Get your marketplace up and running in minutes"})]}),!a&&!f&&(0,b.jsxs)("div",{className:"glass rounded-2xl p-6 text-center space-y-4",children:[(0,b.jsx)(o.Shield,{className:"h-12 w-12 mx-auto text-primary"}),(0,b.jsx)("h2",{className:"text-xl font-semibold",children:"Login Required"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Please login with Discord to set up the database. The first user to login will become the admin."}),(0,b.jsx)(e.Button,{onClick:g,className:"bg-[#5865F2] hover:bg-[#4752C4]",children:"Login with Discord"})]}),f&&(0,b.jsxs)("div",{className:"glass rounded-2xl p-6 text-center",children:[(0,b.jsx)("div",{className:"h-8 w-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),(0,b.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Loading..."})]}),a&&(0,b.jsx)(l,{}),j&&(0,b.jsxs)("div",{className:"glass rounded-2xl p-6 text-center space-y-4",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-green-500",children:"Setup Complete!"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Your FiveM Tools marketplace is ready to use."}),(0,b.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,b.jsxs)(e.Button,{onClick:()=>i.push("/"),className:"gap-2",children:["Go to Homepage",(0,b.jsx)(n.ArrowRight,{className:"h-4 w-4"})]}),h&&(0,b.jsxs)(e.Button,{onClick:()=>i.push("/admin"),variant:"outline",className:"gap-2",children:[(0,b.jsx)(o.Shield,{className:"h-4 w-4"}),"Admin Panel"]})]})]})]})})}a.s(["default",()=>p],7412)}];

//# sourceMappingURL=Pictures_APPLICATION%20DECRYPT%20FULL%20NO%20FXAP_TOOLS%20WEBSITE_e3b222f1._.js.map